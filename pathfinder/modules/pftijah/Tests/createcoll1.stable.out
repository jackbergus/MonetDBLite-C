stdout of test 'createcoll1` in directory 'modules/pftijah` itself:


# 17:58:48 >  
# 17:58:48 >  Mtimeout -timeout 60 Mserver "--config=/usr/local/flokstra/etc/MonetDB.conf" --debug=0 --set "monet_mod_path=/usr/local/flokstra/lib/MonetDB:/usr/local/flokstra/lib/MonetDB/lib:/usr/local/flokstra/lib/MonetDB/bin" --set "gdk_dbfarm=/usr/local/flokstra/var/MonetDB/dbfarm" --set "sql_logdir=/usr/local/flokstra/var/MonetDB/sql_logs" --set "sql_logdir=/usr/local/flokstra/var/MonetDB/xquery_logs" --set mapi_port=32796 --set monet_prompt= --trace --dbname=mTests_.  < createcoll1.milS
# 17:58:48 >  

# Monet Database Server V4.15.0
# Copyright (c) 1993-2006, CWI. All rights reserved.
# Compiled for i686-suse-linux/32bit with 32bit OIDs; dynamically linked.
# Visit http://monetdb.cwi.nl/ for further information.
module(pathfinder);
module(unix);

# should run if you set TSTTRGDIR to pwd

var path:=getenv("TSTSRCDIR");

# index collection at once
tj_init_collection_base("testcoll1", new(str,str).insert("stemmer","snowball-english"));
var docs := new(str,str);
docs.insert(path+"/xml-docs/dilbert.xml","dilbert.xml");
docs.insert(path+"/xml-docs/dilbert2.xml","dilbert2.xml");
docs.insert(path+"/xml-docs/special.xml","special.xml");
tj_add2collection_frag("testcoll1",docs,true);
# Elapsed time = 379us [006us/node]
# Shredded 1 XML document (dilbert2.xml), total time after commit=0.016s
# Elapsed time = 311us [014us/node]
# Shredded 1 XML document (special.xml), total time after commit=0.010s

# index collection incrementally
tj_init_collection_base("testcoll2", new(str,str).insert("stemmer","snowball-english"));
tj_add2collection_frag("testcoll2",path+"/xml-docs/dilbert.xml","dilbert.xml",true);
tj_add2collection_frag("testcoll2",path+"/xml-docs/dilbert2.xml","dilbert2.xml",true);
tj_add2collection_frag("testcoll2",path+"/xml-docs/special.xml","special.xml",true);

# compare indexed collections
var coll1 := bat("tj_testcoll1_termfreq");
var coll2 := bat("tj_testcoll2_termfreq");
diff(coll1,coll2).print();
#-----------------#
# h	t	  # name
# oid	oid	  # type
#-----------------#
quit();

# 17:58:49 >  
# 17:58:49 >  Done.
# 17:58:49 >  

