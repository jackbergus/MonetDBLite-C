module(pathfinder);
module(unix);

# should run if you set TSTTRGDIR to pwd
var path:=getenv("TSTSRCDIR");

# create the 3 document PFCOLL collection
# 3 individual shreds gave spurious warnings, this sould work everywhere
shred_doc(bat(void,str)
              .append(path+"/xml-docs/cdilbert1.xml")
              .append(path+"/xml-docs/cdilbert2.xml")
              .append(path+"/xml-docs/cdilbert3.xml").seqbase(0@0),
          bat(void,str)
	      .append("cdilbert1.xml")
	      .append("cdilbert2.xml")
	      .append("cdilbert3.xml").seqbase(0@0),
	  bat(void,str)
	      .append("PFCOLL")
	      .append("PFCOLL")
	      .append("PFCOLL").seqbase(0@0),
	  bat(void,lng)
	      .append(10LL)
	      .append(10LL)
	      .append(10LL).seqbase(0@0));
var out := xquery("xml","fn:doc(\"cdilbert2.xml\")");
printf("%s",out);
