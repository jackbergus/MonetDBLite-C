declare namespace my='my-functions';
declare function my:year() as xs:integer
{ 
2002 
};

let $doc := doc("$TSTTRGDIR/load_docs.xml")//doc/text()

for $c in doc(exactly-one($doc[1]))/ComplexAssembly/ComplexAssembly/ComplexAssembly/ComplexAssembly/BaseAssembly/CompositePart
where  $c/@buildDate >= my:year()-1
order by $c/@buildDate descending
return
  <result>
    {$c}
  </result>
