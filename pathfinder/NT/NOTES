building pathfinder under native windows (32-bits)

compiling environment: 
- Microsoft Visual C++ 8 (Express Edition is a free download)
- Microsoft Platform SDK for Windows Server 2003 R2 (free download also)
- Intel C++ Compiler 9.1 (evaluation download)

then, set in your environment (Control Panel->System->Advanced->Environment):

CC="icl -Qc99 -GR- -Qsafeseh-"
CXX="icl -Qc99 -GR- -Qsafeseh-"

some notes on the flags:
- Qc99 ==> the coveted C-99 support, needed by pathfinder
- the latter three switches were added in reponse to crashes in pthreads
  -GR- disable  ==>  disable C++ RTTI
  -Qsafeseh-    ==>  disable structured exception handling

  crash would occur when connecting a MIL mclient. With these flags: no problem.

========== packages installed ======================================================================

basics:
- python
  http://www.python.org/download/
  install in C:\python25

- pthreads
  http://sourceware.org/pthreads-win32/
  install in C:\pthreads

- libxml2
  http://xmlsoft.org
  (binaries are at http://www.zlatkovic.com/projects/libxml/index.html.  Also get iconv and zlib libraries)
  edit LIBXML2 paths in pathfinder/NT/rules.msc!!

- UnxUtils
  ftp://garbo.uwasa.fi/win95/unix/UnxUtils.zip
  regrettably bison&flex are too old

- GnuWin32: install bison and flex packages
  http://sourceforge.net/project/showfiles.php?group_id=23617
  setup installer installs in C:\Program Files\GnuWin32\bin

HAVE_PHP=1 (optional)
- PHP
  http://www.php.net
  install binaries in c:\php-5
  also download sources, edit PHP paths in MonetDB/conf/rules.msc
  eliminate line "#include <arpa/inet.h>" from main/php_network.h (SIC!!)

mode of operation:

buildtools: nmake -f Makefile.msc 
Monet,Clients,MonetDB4,pathfinder: nmake -f Makefile.msc NEED_MX=1 HAVE_PHP=1 install

========== example environment, starting from the Microsoft Visual C++ Command Window ===============

REM top dir under which src dirs {buildtools,MonetDB,Clients,MonetDB4,pathfinder}
SET HOME=C:\cygwin\home\chippie2 user

REM icl settings (copied from intel batch script)
SET ICPP_COMPILER91=C:\Program Files\Intel\Compiler\C++\9.1
SET INTEL_SHARED=C:\Program Files\Common Files\Intel\Shared Files
SET INTEL_LICENSE_FILE=C:\Program Files\Common Files\Intel\Licenses
SET PATH=%ICPP_COMPILER91%\Ia32\Bin;%INTEL_SHARED%\Ia32\Bin;%PATH%
SET LIB=%ICPP_COMPILER91%\Ia32\Lib;%LIB%
SET INCLUDE=%ICPP_COMPILER91%\Ia32\Include;;%INCLUDE%

REM pthreads and python (+scripts for autoconf)
SET PATH=C:\Pthreads\lib;%PATH
SET PATH=C:\Python25;C:\Python25\scripts;%PATH%

REM apache ant
SET PATH=C:\apache-ant-1.7.0\bin;%PATH%

REM bison2.1 in GnuWin32; other UnxTools in wbin
SET PATH=C:\Program Files\GnuWin32\bin;C:\usr\local\wbin;%PATH%

REM libxml2
SET PATH=C:\libxml2-2.6.27.win32\bin;C:\iconv-1.9.2.win32\bin;C:\zlib-1.2.3.win32\bin;%PATH%

REM windows sdk (socket include files)
SET LIB=C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\Lib;%LIB%
SET INCLUDE=C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\Include;C:\Program Files\Microsoft Platform SDK for Windows Server 2003 R2\Include\mfc;%INCLUDE%

cd %HOME%

