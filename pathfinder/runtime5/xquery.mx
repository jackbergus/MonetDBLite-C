@' The contents of this file are subject to the MonetDB Public License
@' Version 1.1 (the "License"); you may not use this file except in
@' compliance with the License. You may obtain a copy of the License at
@' http://monetdb.cwi.nl/Legal/MonetDBLicense-1.1.html
@'
@' Software distributed under the License is distributed on an "AS IS"
@' basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
@' License for the specific language governing rights and limitations
@' under the License.
@'
@' The Original Code is the MonetDB Database System.
@'
@' The Initial Developer of the Original Code is CWI.
@' Portions created by CWI are Copyright (C) 1997-2007 CWI.
@' All Rights Reserved.

@f xquery
@t XQuery implemenation
@a N J Nes
@v 0
@* 
This module contains the MAL wrappers for interaction
with the XQuery parser and runtime system.
@mal
module xquery;

command start():void 
address XQUERYsession
comment "Switch to processing XQUERY statements";

command prelude()
address XQUERYprelude;

command epilogue()
address XQUERYepilogue;

xquery.prelude();

@h
#ifndef _XQUERY_H
#define _XQUERY_H

#include <mal.h>
#include <opt_prelude.h>
#include <mal_session.h>

#ifdef _MSC_VER
#ifndef LIBXQUERY
#define xquery_export extern __declspec(dllimport)
#else
#define xquery_export extern __declspec(dllexport)
#endif
#else
#define xquery_export extern
#endif

typedef enum modes_xquery {
    xquery_normal = 0,
    xquery_prepare = 1,
    xquery_execute = 2,
    xquery_explain = 3,
    xquery_profile = 4,
    xquery_debug = 5,
    xquery_trace = 6,
    xquery_inplace = 7
} modes_xquery;

#endif /* _XQUERY_H */

@c
#include "xquery.h"
