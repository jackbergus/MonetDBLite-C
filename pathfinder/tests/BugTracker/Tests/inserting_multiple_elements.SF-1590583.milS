module(unix);
module(pathfinder);
var TST := getenv("TST")+".xml";
var TSTSRCDIR := getenv("TSTSRCDIR");

shred_doc(TSTSRCDIR+"/"+TST,TST,"",50LL);

xquery("xml","do insert <noot>Bes</noot> as first into exactly-one(doc(\""+TST+"\")/aap)").printf();
xquery("xml","doc(\""+TST+"\")").printf();

xquery("xml","let $batch := (<beer/>,<mies/>) return do insert $batch after exactly-one(doc(\""+TST+"\")//noot)").printf();
xquery("xml","doc(\""+TST+"\")").printf();
