pf:add-doc("$TSTSRCDIR/hello.xml","sample1","samples")
<>
pf:add-doc("$TSTSRCDIR/hello.xml","sample2","samples")
<>
<average> {
fn:round(fn:avg(
fn:collection("samples")/example/@sum
)) } </average>
<>
<average> {
fn:round(fn:avg(
pf:collection("samples")/child::document-node()/example/@sum
)) } </average>
<>
let $avg := pf:collection("samples")/child::document-node()/example/@sum
return <average> {
fn:round(fn:avg(
$avg
)) } </average>
<>
pf:del-doc("sample2")
<>
pf:del-doc("sample1")
