stdout of test 'Q4ax` in directory 'tests/W3C_use_cases/XQUF/Parts` itself:


# 16:00:54 >  
# 16:00:54 >  Mtimeout -timeout 60 Mserver "--config=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/etc/MonetDB.conf" --debug=10 --set "monet_mod_path=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/bin" --set "gdk_dbfarm=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/dbfarm" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/sql_logs" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/xquery_logs" --set mapi_port=31908 --set monet_prompt= --trace --dbname=mTests_tests_W3C_use_cases_XQUF_Parts  < Q4ax.milS
# 16:00:54 >  

# Monet Database Server V4.13.1
# Copyright (c) 1993-2006, CWI. All rights reserved.
# Compiled for i686-redhat-linux-gnu/32bit with 32bit OIDs; dynamically linked.
# Visit http://monetdb.cwi.nl/ for further information.
module(ascii_io);
module(unix);
module(pathfinder);
var TSTSRCDIR := getenv("TSTSRCDIR");
shred_doc(TSTSRCDIR+"/part-list.xml", "part-list.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 851us [035us/node]
# Shredded 1 XML document (part-list.xml), total time after commit=0.009s
shred_doc(TSTSRCDIR+"/part-tree.xml", "part-tree.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 398us [014us/node]
# Shredded 1 XML document (part-tree.xml), total time after commit=0.011s

xquery("xml","
let $next := max(doc(\"part-tree.xml\")//@partid) + 1
  return
    do insert <part partid=\"{$next}\" name=\"radio\"/>
       into 
       exactly-one(for $p in doc(\"part-tree.xml\")//part where $p/@partid=0 and $p/@name=\"car\" return $p)
").printf();
fflush(stdout());
fflush(stderr());

xquery("xml","
doc(\"part-list.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult><partlist>
  <part name="car" partid="0"/>
  <part name="engine" partof="0" partid="1"/>
  <part name="door" partof="0" partid="2"/>
  <part name="piston" partof="1" partid="3"/>
  <part name="window" partof="2" partid="4"/>
  <part name="lock" partof="2" partid="5"/>
  <part name="skateboard" partid="10"/>
  <part name="board" partof="10" partid="11"/>
  <part name="wheel" partof="10" partid="12"/>
  <part name="canoe" partid="20"/>
</partlist></XQueryResult>
fflush(stderr());

xquery("xml","
doc(\"part-tree.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult><parttree>
    <part name="car" partid="0">
        <part name="engine" partid="1">
            <part name="piston" partid="3"/>
        </part>
        <part name="door" partid="2">
            <part name="window" partid="4"/>
            <part name="lock" partid="5"/>
        </part>
    <part name="radio" partid="21"/></part>
    <part name="skateboard" partid="10">
        <part name="board" partid="11"/>
        <part name="wheel" partid="12"/>
    </part>
    <part name="canoe" partid="20"/>
</parttree></XQueryResult>
fflush(stderr());

delete_doc("part-list.xml");
delete_doc("part-tree.xml");
quit();

# 16:00:56 >  
# 16:00:56 >  Done.
# 16:00:56 >  

