stdout of test 'Q4bx` in directory 'tests/W3C_use_cases/XQUF/Parts` itself:


# 16:07:54 >  
# 16:07:54 >  Mtimeout -timeout 60 Mserver "--config=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/etc/MonetDB.conf" --debug=10 --set "monet_mod_path=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/bin" --set "gdk_dbfarm=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/dbfarm" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/sql_logs" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/xquery_logs" --set mapi_port=31477 --set monet_prompt= --trace --dbname=mTests_tests_W3C_use_cases_XQUF_Parts  < Q4bx.milS
# 16:07:54 >  

# Monet Database Server V4.13.1
# Copyright (c) 1993-2006, CWI. All rights reserved.
# Compiled for i686-redhat-linux-gnu/32bit with 32bit OIDs; dynamically linked.
# Visit http://monetdb.cwi.nl/ for further information.
module(ascii_io);
module(unix);
module(pathfinder);
var TSTSRCDIR := getenv("TSTSRCDIR");
shred_doc(TSTSRCDIR+"/part-list.xml", "part-list.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 874us [036us/node]
# Shredded 1 XML document (part-list.xml), total time after commit=0.009s
shred_doc(TSTSRCDIR+"/part-tree.xml", "part-tree.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 388us [014us/node]
# Shredded 1 XML document (part-tree.xml), total time after commit=0.011s

xquery("xml","
let $next := max(doc(\"part-tree.xml\")//@partid) + 1
  return
    do insert <part partid=\"{$next}\" name=\"radio\"/>
       as last into
       exactly-one(doc(\"part-tree.xml\")//part[@partid=0 and @name=\"car\"])
").printf();

xquery("xml","
doc(\"part-list.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult><partlist>
  <part name="car" partid="0"/>
  <part name="engine" partof="0" partid="1"/>
  <part name="door" partof="0" partid="2"/>
  <part name="piston" partof="1" partid="3"/>
  <part name="window" partof="2" partid="4"/>
  <part name="lock" partof="2" partid="5"/>
  <part name="skateboard" partid="10"/>
  <part name="board" partof="10" partid="11"/>
  <part name="wheel" partof="10" partid="12"/>
  <part name="canoe" partid="20"/>
</partlist></XQueryResult>

xquery("xml","
doc(\"part-tree.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult>
<parttree>
    <part partid="0" name="car">
        <part partid="1" name="engine">
            <part partid="3" name="piston"/>
        </part>
        <part partid="2" name="door">
            <part partid="4" name="window"/>
            <part partid="5" name="lock"/>
        </part>
        <part partid="21" name="radio"/>
    </part>
    <part partid="10" name="skateboard">
        <part partid="11" name="board"/>
        <part partid="12" name="wheel"/>
    </part>
    <part partid="20" name="canoe"/>
</parttree>
</XQueryResult>

delete_doc("part-list.xml");
delete_doc("part-tree.xml");
quit();

# 16:07:56 >  
# 16:07:56 >  Done.
# 16:07:56 >  

