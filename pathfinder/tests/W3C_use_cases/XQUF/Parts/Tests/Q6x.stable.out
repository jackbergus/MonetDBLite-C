stdout of test 'Q6x` in directory 'tests/W3C_use_cases/XQUF/Parts` itself:


# 16:11:14 >  
# 16:11:14 >  Mtimeout -timeout 60 Mserver "--config=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/etc/MonetDB.conf" --debug=10 --set "monet_mod_path=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./PATHFINDER/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/lib:/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/lib/MonetDB/bin" --set "gdk_dbfarm=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/dbfarm" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/sql_logs" --set "sql_logdir=/Win/MonetDB/.GNU.32.32.d.--disable-optimize_--enable-debug.PREFIX./MONETDB/var/MonetDB/xquery_logs" --set mapi_port=37834 --set monet_prompt= --trace --dbname=mTests_tests_W3C_use_cases_XQUF_Parts  < Q6x.milS
# 16:11:14 >  

# Monet Database Server V4.13.1
# Copyright (c) 1993-2006, CWI. All rights reserved.
# Compiled for i686-redhat-linux-gnu/32bit with 32bit OIDs; dynamically linked.
# Visit http://monetdb.cwi.nl/ for further information.
module(ascii_io);
module(unix);
module(pathfinder);
var TSTSRCDIR := getenv("TSTSRCDIR");
shred_doc(TSTSRCDIR+"/part-list.xml", "part-list.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 862us [035us/node]
# Shredded 1 XML document (part-list.xml), total time after commit=0.009s
shred_doc(TSTSRCDIR+"/part-tree.xml", "part-tree.xml", "Parts", 9LL);
# shredding with holes: pagesize=65536, #fillsize=59638
# Elapsed time = 384us [014us/node]
# Shredded 1 XML document (part-tree.xml), total time after commit=0.011s

xquery("xml","
for $keyword at $i in (\"car\", \"skateboard\", \"canoe\")
for $parent in doc(\"part-tree.xml\")//part[@name=$keyword]
let $descendants := $parent//part
for $p in ($parent, $descendants)
return 
  do replace value of exactly-one($p/@partid) with $i*1000+$p/@partid
").printf();

xquery("xml","
doc(\"part-list.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult><partlist>
  <part name="car" partid="0"/>
  <part name="engine" partof="0" partid="1"/>
  <part name="door" partof="0" partid="2"/>
  <part name="piston" partof="1" partid="3"/>
  <part name="window" partof="2" partid="4"/>
  <part name="lock" partof="2" partid="5"/>
  <part name="skateboard" partid="10"/>
  <part name="board" partof="10" partid="11"/>
  <part name="wheel" partof="10" partid="12"/>
  <part name="canoe" partid="20"/>
</partlist></XQueryResult>

xquery("xml","
doc(\"part-tree.xml\")
").printf();
fflush(stdout());
<?xml version="1.0" encoding="utf-8"?>
<XQueryResult><parttree>
    <part name="car" partid="1000">
        <part name="engine" partid="1001">
            <part name="piston" partid="1003"/>
        </part>
        <part name="door" partid="1002">
            <part name="window" partid="1004"/>
            <part name="lock" partid="1005"/>
        </part>
    </part>
    <part name="skateboard" partid="2010">
        <part name="board" partid="2011"/>
        <part name="wheel" partid="2012"/>
    </part>
    <part name="canoe" partid="3020"/>
</parttree></XQueryResult>

delete_doc("part-list.xml");
delete_doc("part-tree.xml");
quit();

# 16:11:16 >  
# 16:11:16 >  Done.
# 16:11:16 >  

