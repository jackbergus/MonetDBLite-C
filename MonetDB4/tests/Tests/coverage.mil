# This simple script collects the profiler information on
# operations defined and not used.
# It could be improved to aggregate over the name,module.

module(profiler);
#small test to see if anything works
startProfiler();
var b:= getProfilerCount();
var t:= getProfilerTicks();
print(b);
print(t);

#start collecting the information
var m:= bat("monet_fcn_nme").reverse().semijoin(b).reverse();
var j:= bat("monet_fcn_nme").diff(m);
var k:= bat("monet_fcn_mid").join(bat("monet_mod_nme"));

print("Frequence of the commands being used");
print(k, m, m.join(b));
print("Commands and built-ins not used");
print(k.reverse().join(j));
