
# >Number:         166
# >Category:       MIL
# >Synopsis:       loading module enum in a block, proc or batloop fails
# >Confidential:   no
# >Severity:       serious
# >Priority:       medium
# >Responsible:    boncz (Peter Boncz)
# >State:          open
# >Class:          sw-bug
# >Submitter-Id:   unknown
# >Arrival-Date:   Thu Aug 13 17:51:39 1998
# >Originator:     manegold@cwi.nl
# >Organization:
# CWI
# >Release:        980101
# >Environment:
# any
# >Description:
# loading module enum in a block, proc or batloop
# stops the evaluation of the very block immediately.
#
# ========
# test script
# --------
# loaded;
#
# {
# printf("\nloading '%s' ... ","enum");
# module("enum");
# printf("done.\n\n");
# loaded;
# printf("\ndropping '%s' ... ","enum");
# drop("enum");
# printf("done.\n\n");
# loaded;
# }
#
# quit;
#
# ========
# output
# --------
# loaded;
# #---------------------------------#
# # module        | usage_count     #
# #---------------------------------#
# [ "builtin",       1               ]
# [ "arith",        1               ]
# [ "bat",          1               ]
# [ "algebra",      1               ]
# [ "sys",          1               ]
# [ "trans",        1               ]
#
# {
# printf("\nloading '%s' ... ","enum");
# module("enum");
# printf("done.\n\n");
# loaded;
# printf("\ndropping '%s' ... ","enum");
# drop("enum");
# printf("done.\n\n");
# loaded;
# }
#
# loading 'enum' ... 
# quit;
#
# --------

setoid(oid(20000000));

loaded();

{
printf("\nloading '%s' ... ","enum");
module("enum");
printf("done.\n\n");
loaded();
printf("\ndropping '%s' ... ","enum");
drop("enum");
printf("done.\n\n");
loaded();
}

quit();
