stdout of test 'binsemijoin3` in directory 'gdk` itself:


# 12:18:03 >  
# 12:18:03 >  Mtimeout -timeout 600 Mserver --config=/ufs/manegold/Monet/4.3/monet/_PREFIX_/etc/monet.conf --debug=10   --set monet_prompt= --dbname=Tests_src_gdk  < binsemijoin3.milM
# 12:18:03 >  

# Monet Database Server V4.3.5
# Copyright (c) 1993-2002, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
# Test provided as bug-report by 
# Maurice van Keulen <keulen@fmi.uni-konstanz.de>
# Torsten Grust <grust@fmi.uni-konstanz.de>

module(alarm);

var dbgmsk := debugmask();
var left:=new(void,oid).seqbase(0@0);
var right:=new(oid,void);

var i:=0;
while (i<12000) { left.append(oid(i)); i:+=1; }
debugmask(and(dbgmsk,xor(INT_MAX,8+8388608)));
i:=0;
while (i<450000) { right.insert(oid(i*2),nil); i:+=1; }
debugmask(dbgmsk);
right.insert(0@0,nil); # make sure right is unordered.

left.count().print();
[ 12000 ]
right.count().print();
[ 450001 ]

right.ordered().print();
[ false ]
var tm0 := time();
var res := left.semijoin(right);
var tm1 := time();

printf("# Done (%d results) ... elapsed time: %d ms\n", res.count(), tm1 - tm0);
# Done (6000 results) ... elapsed time: 22 ms
res.count().print();
[ 6000 ]
res.slice(0,20).print();
#-----------------#
# BAT:	  tmp_28  #
# (oid)	  (oid)	  #
#-----------------#
[ 0@0,	  0@0	  ]
[ 2@0,	  2@0	  ]
[ 4@0,	  4@0	  ]
[ 6@0,	  6@0	  ]
[ 8@0,	  8@0	  ]
[ 10@0,	  10@0	  ]
[ 12@0,	  12@0	  ]
[ 14@0,	  14@0	  ]
[ 16@0,	  16@0	  ]
[ 18@0,	  18@0	  ]
[ 20@0,	  20@0	  ]
[ 22@0,	  22@0	  ]
[ 24@0,	  24@0	  ]
[ 26@0,	  26@0	  ]
[ 28@0,	  28@0	  ]
[ 30@0,	  30@0	  ]
[ 32@0,	  32@0	  ]
[ 34@0,	  34@0	  ]
[ 36@0,	  36@0	  ]
[ 38@0,	  38@0	  ]
[ 40@0,	  40@0	  ]

tm0 := time();
right.order();
tm1 := time();

printf("# %d BUNs ordered in %d ms\n", right.count(), tm1 - tm0);
# 450001 BUNs ordered in 103 ms
right.count().print();
[ 450001 ]

right.ordered().print();
[ true ]
tm0 := time();
res := left.semijoin(right);
tm1 := time();

printf("# Done (%d results) ... elapsed time: %d ms\n", res.count(), tm1 - tm0);
# Done (6000 results) ... elapsed time: 9 ms
res.slice(0,20).print();
#-----------------#
# BAT:	  tmp_27  #
# (oid)	  (oid)	  #
#-----------------#
[ 0@0,	  0@0	  ]
[ 2@0,	  2@0	  ]
[ 4@0,	  4@0	  ]
[ 6@0,	  6@0	  ]
[ 8@0,	  8@0	  ]
[ 10@0,	  10@0	  ]
[ 12@0,	  12@0	  ]
[ 14@0,	  14@0	  ]
[ 16@0,	  16@0	  ]
[ 18@0,	  18@0	  ]
[ 20@0,	  20@0	  ]
[ 22@0,	  22@0	  ]
[ 24@0,	  24@0	  ]
[ 26@0,	  26@0	  ]
[ 28@0,	  28@0	  ]
[ 30@0,	  30@0	  ]
[ 32@0,	  32@0	  ]
[ 34@0,	  34@0	  ]
[ 36@0,	  36@0	  ]
[ 38@0,	  38@0	  ]
[ 40@0,	  40@0	  ]
res.count().print();
[ 6000 ]
quit();

# 12:18:10 >  
# 12:18:10 >  Done.
# 12:18:10 >  

