stdout of test 'url` in directory 'modules/plain` itself:

#> Mtest (13:31:51):	other url 1200
#> Mtest (13:31:51):	Mtimeout -timeout 1200 ./url url
#> Mlog (13:31:51):	Mtimeout -timeout 600 Mserver -modulesilent -yaccsilent -d8 -db src_modules_plain url.mil
# Monet Database Server V4.2
# Copyright (c) 1993-1999, CWI & SION. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit.
#script:url.mil


# Monet Database Server V4.3.5
# Copyright (c) 1993-2002, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
module("url");
setoid(oid(20000000));
var u := url("http://www.cwi.nl/~mk/Acoi/index.html");
u.getHost().print();
[ "www.cwi.nl" ]
u.getPort().print();
[ nil ]
u.getDomain().print();
[ "nl" ]
u.getFile().print();
[ "index.html" ]
u.getAnchor().print();
[ nil ]
u.getBasename().print();
[ "index" ]
u.getProtocol().print();
[ "http" ]
u.getUser().print();
[ "mk" ]
u.getDirectory().print();
#-----------------#
# dir	name	  # name
# int	str	  # type
#-----------------#
[ 0,	  "~mk"		  ]
[ 1,	  "Acoi"	  ]

var v := newurl("http","www.cwi.nl","~monet");
v.print();
[ "http://www.cwi.nl/~monet" ]
v.getRobotURL().print();
[ "http://www.cwi.nl/robots.txt" ]
var w := url("http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium&nr=10");
w.getQuery().print();
[ "name=Planetarium&nr=10" ]
w.getQueryArg().print();
#-------------------------#
# BAT:	  dir_name	  #
# (str)	  (str)		  #
#-------------------------#
[ "name", "Planetarium"	  ]
[ "nr",	  "10"		  ]

var t := new(int, url);
t.insert(1, url("http://www.cwi.nl"));
t.insert(2, url("http://www.cwi.nl/~monet"));
t.insert(3, url("http://www.cwi.nl/~mk/Acoi/doc/features.html"));
t.insert(4, url("http://www.educ.uva.nl/schoolweb/rocloka.htm"));
t.insert(5, url("http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"));
t.insert(6, url("http://www.edgeonline.com/"));
t.insert(7, url("http://robotics.stanford.edu/icons/"));

t.print();
#-------------------------------------------------------------------------#
# BAT:	  tmp_37							  #
# (int)	  (url)								  #
#-------------------------------------------------------------------------#
[ 1,	  "http://www.cwi.nl"						  ]
[ 2,	  "http://www.cwi.nl/~monet"					  ]
[ 3,	  "http://www.cwi.nl/~mk/Acoi/doc/features.html"		  ]
[ 4,	  "http://www.educ.uva.nl/schoolweb/rocloka.htm"		  ]
[ 5,	  "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"	  ]
[ 6,	  "http://www.edgeonline.com/"					  ]
[ 7,	  "http://robotics.stanford.edu/icons/"				  ]
[getHost](t).print();
#-----------------------------------------#
# BAT:	  tmp_36			  #
# (int)	  (str)				  #
#-----------------------------------------#
[ 1,	  "www.cwi.nl"			  ]
[ 2,	  "www.cwi.nl"			  ]
[ 3,	  "www.cwi.nl"			  ]
[ 4,	  "www.educ.uva.nl"		  ]
[ 5,	  "www.nedstat.nl"		  ]
[ 6,	  "www.edgeonline.com"		  ]
[ 7,	  "robotics.stanford.edu"	  ]
[getPort](t).print();
#-----------------#
# BAT:	  tmp_36  #
# (int)	  (str)	  #
#-----------------#
[ 1,	  nil	  ]
[ 2,	  nil	  ]
[ 3,	  nil	  ]
[ 4,	  nil	  ]
[ 5,	  nil	  ]
[ 6,	  nil	  ]
[ 7,	  nil	  ]
[getDomain](t).print();
#-----------------#
# BAT:	  tmp_36  #
# (int)	  (str)	  #
#-----------------#
[ 1,	  "nl"	  ]
[ 2,	  "nl"	  ]
[ 3,	  "nl"	  ]
[ 4,	  "nl"	  ]
[ 5,	  "nl"	  ]
[ 6,	  "com"	  ]
[ 7,	  "edu"	  ]
[getFile](t).print();
#-----------------------------------------#
# BAT:	  tmp_36			  #
# (int)	  (str)				  #
#-----------------------------------------#
[ 1,	  "www.cwi.nl"			  ]
[ 2,	  "~monet"			  ]
[ 3,	  "features.html"		  ]
[ 4,	  "rocloka.htm"			  ]
[ 5,	  "viewstat?name=Planetarium"	  ]
[ 6,	  ""				  ]
[ 7,	  ""				  ]
[getAnchor](t).print();
#-----------------#
# BAT:	  tmp_36  #
# (int)	  (str)	  #
#-----------------#
[ 1,	  nil	  ]
[ 2,	  nil	  ]
[ 3,	  nil	  ]
[ 4,	  nil	  ]
[ 5,	  nil	  ]
[ 6,	  nil	  ]
[ 7,	  nil	  ]
[getBasename](t).print();
#-----------------------------------------#
# BAT:	  tmp_36			  #
# (int)	  (str)				  #
#-----------------------------------------#
[ 1,	  "www"				  ]
[ 2,	  "~monet"			  ]
[ 3,	  "features"			  ]
[ 4,	  "rocloka"			  ]
[ 5,	  "viewstat?name=Planetarium"	  ]
[ 6,	  ""				  ]
[ 7,	  ""				  ]
[getProtocol](t).print();
#-----------------#
# BAT:	  tmp_36  #
# (int)	  (str)	  #
#-----------------#
[ 1,	  "http"  ]
[ 2,	  "http"  ]
[ 3,	  "http"  ]
[ 4,	  "http"  ]
[ 5,	  "http"  ]
[ 6,	  "http"  ]
[ 7,	  "http"  ]
[getUser](t).print();
#-------------------------#
# BAT:	  tmp_36	  #
# (int)	  (str)		  #
#-------------------------#
[ 1,	  nil		  ]
[ 2,	  "monet"	  ]
[ 3,	  "mk"		  ]
[ 4,	  nil		  ]
[ 5,	  nil		  ]
[ 6,	  nil		  ]
[ 7,	  nil		  ]

var a := "- -$-%-&-+-,-/-:-;-=-?-@-";
u.print();
[ "http://www.cwi.nl/~mk/Acoi/index.html" ]
escape(str(u)).print();
[ "http%3a%2f%2fwww.cwi.nl%2f~mk%2fAcoi%2findex.html" ]
w.print();
[ "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium&nr=10" ]
escape(str(w)).print();
[ "http%3a%2f%2fwww.nedstat.nl%2fcgi-bin%2fviewstat%3fname%3dPlanetarium%26nr%3d10" ]
a.print();
[ "- -$-%-&-+-,-/-:-;-=-?-@-" ]
escape(a).print();
[ "-+-%24-%25-%26-%2b-%2c-%2f-%3a-%3b-%3d-%3f-%40-" ]

var b := escape(a);
escape(str(u)).print();
[ "http%3a%2f%2fwww.cwi.nl%2f~mk%2fAcoi%2findex.html" ]
unescape(escape(str(u))).print();
[ "http://www.cwi.nl/~mk/Acoi/index.html" ]
escape(str(w)).print();
[ "http%3a%2f%2fwww.nedstat.nl%2fcgi-bin%2fviewstat%3fname%3dPlanetarium%26nr%3d10" ]
unescape(escape(str(w))).print();
[ "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium&nr=10" ]
b.print();
[ "-+-%24-%25-%26-%2b-%2c-%2f-%3a-%3b-%3d-%3f-%40-" ]
unescape(b).print();
[ "-+-$-%-&-+-,-/-:-;-=-?-@-" ]

var s := new(int, str);
s.insert(1, "http://www.cwi.nl");
s.insert(2, "http://www.cwi.nl/~monet");
s.insert(3, "http://www.cwi.nl/~mk/Acoi/doc/features.html");
s.insert(4, "http://www.educ.uva.nl/schoolweb/rocloka.htm");
s.insert(5, "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium");
s.insert(6, "http://www.edgeonline.com/");
s.insert(7, "http://robotics.stanford.edu/icons/");
s.insert(8, "http://www.example.com/00/Weather/CA/Los%20Angeles#ocean");
s.insert(9, a);

s.print();
#-------------------------------------------------------------------------#
# h	t								  # name
# int	str								  # type
#-------------------------------------------------------------------------#
[ 1,	  "http://www.cwi.nl"						  ]
[ 2,	  "http://www.cwi.nl/~monet"					  ]
[ 3,	  "http://www.cwi.nl/~mk/Acoi/doc/features.html"		  ]
[ 4,	  "http://www.educ.uva.nl/schoolweb/rocloka.htm"		  ]
[ 5,	  "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"	  ]
[ 6,	  "http://www.edgeonline.com/"					  ]
[ 7,	  "http://robotics.stanford.edu/icons/"				  ]
[ 8,	  "http://www.example.com/00/Weather/CA/Los%20Angeles#ocean"	  ]
[ 9,	  "- -$-%-&-+-,-/-:-;-=-?-@-"					  ]
s := [escape](s);
s.print();
#-----------------------------------------------------------------------------------------#
# h	t										  # name
# int	str										  # type
#-----------------------------------------------------------------------------------------#
[ 1,	  "http%3a%2f%2fwww.cwi.nl"							  ]
[ 2,	  "http%3a%2f%2fwww.cwi.nl%2f~monet"						  ]
[ 3,	  "http%3a%2f%2fwww.cwi.nl%2f~mk%2fAcoi%2fdoc%2ffeatures.html"			  ]
[ 4,	  "http%3a%2f%2fwww.educ.uva.nl%2fschoolweb%2frocloka.htm"			  ]
[ 5,	  "http%3a%2f%2fwww.nedstat.nl%2fcgi-bin%2fviewstat%3fname%3dPlanetarium"	  ]
[ 6,	  "http%3a%2f%2fwww.edgeonline.com%2f"						  ]
[ 7,	  "http%3a%2f%2frobotics.stanford.edu%2ficons%2f"				  ]
[ 8,	  "http%3a%2f%2fwww.example.com%2f00%2fWeather%2fCA%2fLos%2520Angeles#ocean"	  ]
[ 9,	  "-+-%24-%25-%26-%2b-%2c-%2f-%3a-%3b-%3d-%3f-%40-"				  ]
s := [unescape](s);
s.print();
#-------------------------------------------------------------------------#
# h	t								  # name
# int	str								  # type
#-------------------------------------------------------------------------#
[ 1,	  "http://www.cwi.nl"						  ]
[ 2,	  "http://www.cwi.nl/~monet"					  ]
[ 3,	  "http://www.cwi.nl/~mk/Acoi/doc/features.html"		  ]
[ 4,	  "http://www.educ.uva.nl/schoolweb/rocloka.htm"		  ]
[ 5,	  "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"	  ]
[ 6,	  "http://www.edgeonline.com/"					  ]
[ 7,	  "http://robotics.stanford.edu/icons/"				  ]
[ 8,	  "http://www.example.com/00/Weather/CA/Los%20Angeles#ocean"	  ]
[ 9,	  "-+-$-%-&-+-,-/-:-;-=-?-@-"					  ]

quit();

# 17:05:17 >  
# 17:05:17 >  Done.
# 17:05:17 >  

