PROC test_mnetcdf() : void := {
    var data,idx1,idx2,ncid,variables,vinfo,input;
    data := new(void,int);
    data.insert(nil,rand());
    data.insert(nil,rand());
    data.insert(nil,rand());
    data.insert(nil,rand());
    seqbase(data,0@0);
    data := [flt](data);

    idx1 := new(void,int);
    idx1.insert(nil,0);
    idx1.insert(nil,0);
    idx1.insert(nil,1);
    idx1.insert(nil,1);
    seqbase(idx1,0@0);

    idx2 := new(void,int);
    idx2.insert(nil,0);
    idx2.insert(nil,1);
    idx2.insert(nil,0);
    idx2.insert(nil,1);
    seqbase(idx2,0@0);

    print(data,idx1,idx2);

    ncid := nc_create(TSTTRGDIR + "/testdata.nc");
    nc_export(ncid,"TEST_DATA",data,idx1,idx2);
    nc_export_fast(ncid,"TEST_DATA_fast",data,2,2);
    nc_close(ncid);
    
    ncid      := nc_open(TSTTRGDIR + "/testdata.nc");
    variables := nc_list(ncid);
    print(variables);
    vinfo     := nc_describe(ncid,"TEST_DATA");
    print(vinfo);
    input     := nc_import(ncid,"TEST_DATA");
    print(input);
    vinfo     := nc_describe(ncid,"TEST_DATA_fast");
    print(vinfo);
    input     := nc_import(ncid,"TEST_DATA_fast");
    print(input);
    nc_close(ncid);
}
test_mnetcdf();
quit();
