stdout of test 'modrefcnt1` in directory 'monet` itself:


# 18:26:26 >  
# 18:26:26 >  Mtimeout -timeout 60 Mserver "--config=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/etc/monet.conf" --debug=10 --set "monet_mod_path=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/lib/MonetDB" --set "gdk_dbfarm=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/dbfarm" --set "sql_logdir=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/log" --set mapi_port=53708 --set sql_port=52024 --set monet_prompt= --trace --dbname=mTests_src_monet  < modrefcnt1.milM
# 18:26:26 >  

# Monet Database Server V4.3.13
# Copyright (c) 1993-2004, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
module("lock");
module("lock");

VAR test := new(int,lock);
loaded();
#---------------------------------#
# module	| usage_count	  #
#---------------------------------#
[ "algebra",	  1		  ]
[ "arith",	  1		  ]
[ "bat",	  1		  ]
[ "builtin",	  1		  ]
[ "constant",	  1		  ]
[ "lock",	  2		  ]
[ "main",	  1		  ]
[ "str",	  1		  ]
[ "sys",	  1		  ]
[ "trans",	  1		  ]
test.print();
#-----------------#
# BAT:	  tmp_28  #
# (int)	  (lock)  #
#-----------------#
test.count().print();
[ 0 ]

drop("lock");
loaded();
#---------------------------------#
# module	| usage_count	  #
#---------------------------------#
[ "algebra",	  1		  ]
[ "arith",	  1		  ]
[ "bat",	  1		  ]
[ "builtin",	  1		  ]
[ "constant",	  1		  ]
[ "lock",	  1		  ]
[ "main",	  1		  ]
[ "str",	  1		  ]
[ "sys",	  1		  ]
[ "trans",	  1		  ]
test.print();
#-----------------#
# BAT:	  tmp_28  #
# (int)	  (lock)  #
#-----------------#
test.count().print();
[ 0 ]

drop("lock");
!ERROR: unloadmod_check_use: drop(_lock) failed: tmp_32[int,lock] has 1 reference.
loaded();
#---------------------------------#
# module	| usage_count	  #
#---------------------------------#
[ "_lock",	  1		  ]
[ "algebra",	  1		  ]
[ "arith",	  1		  ]
[ "bat",	  1		  ]
[ "builtin",	  1		  ]
[ "constant",	  1		  ]
[ "main",	  1		  ]
[ "str",	  1		  ]
[ "sys",	  1		  ]
[ "trans",	  1		  ]
test.print();
#-----------------#
# h	t	  # name
# int	lock	  # type
#-----------------#
test.count().print();
[ 0 ]

quit();

# 18:26:27 >  
# 18:26:27 >  Done.
# 18:26:27 >  

