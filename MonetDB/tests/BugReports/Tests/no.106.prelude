# >Number:         106
# >Category:       MIL
# >Synopsis:       voids still cause problems
# >Confidential:   no
# >Severity:       serious
# >Priority:       medium
# >Responsible:    boncz
# >State:          open
# >Class:          sw-bug
# >Submitter-Id:   unknown
# >Arrival-Date:   Wed Jan  7 14:12:53 1998
# >Originator:     arjen
# >Organization:
# Other
# >Release:        971007
# >Environment:
# Solaris 2.5.1
# >Description:
# The following hangs the system:
# 
# Arjen@cinema% Mclient
# # start session on arjen:50082
# > # w.bat is een text dump formaat ( oid, str ),
# > # bevattende docid, term
# > w := new( oid, str );
# > w.import( "w.bat" );
# > w.print;
# #---------------------------------#
# # oid   | tmp_27                  #
# #---------------------------------#
# [ 0@0,    "test"                  ]
# [ 0@0,    "this"                  ]
# [ 0@0,    "database"              ]
# [ 0@0,    "this"                  ]
# [ 0@0,    "and"                   ]
# [ 0@0,    "test"                  ]
# [ 0@0,    "its"                   ]
# [ 0@0,    "export"                ]
# [ 0@0,    "functionality"         ]
# [ 1@0,    "test"                  ]
# [ 1@0,    "it"                    ]
# [ 1@0,    "thoroughly"            ]
# [ 2@0,    "test"                  ]
# [ 2@0,    "this"                  ]
# [ 2@0,    "database"              ]
# > #split w in twee tabellen
# > docid := new( void, oid );
# > tid := new( void, str );
# > docid := [w~].reverse;
# > tid := [~w];
# > docid.seqbase( 1000@0 );
# > tid.seqbase( 1000@0 );
# > CTgroup( docid, tid ).map().print;
# 
# BTW, adding copy does not help, only if instead of := I use a
# docid.insert( [w~].reverse ), then I get what I expect to get.
# 
# Arjen

setoid(oid(10000000));
module("unix");module("ascii_io");
#
# Text retrieval testjes
#

# w.bat is een text dump formaat ( oid, str ),
# bevattende docid, term
var w := new( oid, str );
w.import( sprintf("%s/no.106.w.bat",getenv("TSTTRGDIR")) );
w.print();
