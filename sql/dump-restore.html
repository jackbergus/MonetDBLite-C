<?xml version="1.0" encoding="utf-8" ?>

<!--
The contents of this file are subject to the MonetDB Public License
Version 1.1 (the "License"); you may not use this file except in
compliance with the License. You may obtain a copy of the License at
http://monetdb.cwi.nl/Legal/MonetDBLicense-1.1.html

Software distributed under the License is distributed on an "AS IS"
basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
License for the specific language governing rights and limitations
under the License.

The Original Code is the MonetDB Database System.

The Initial Developer of the Original Code is CWI.
Portions created by CWI are Copyright (C) 1997-2007 CWI.
All Rights Reserved.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Dump/Restore of SQL database</title>
  </head>
  <body>
    <h1>
      <a name="dumping-the-sql-database">Dumping the SQL database.</a>
    </h1>
    <p>Start the SQL Server and SQL Client as usual.</p>
    <p>In the SQL Client, type the following three commands.  Type them
      without any extra white space:</p>
    <pre>
      &gt;.../dump.sql
      \D
      &gt;
    </pre>
    <p>That is, first a line consisting of a greater than symbol followed by
      the absolute (!) path name of the file in which you want to store the
      dump.  This will redirect future output to the file mentioned.  Then a
      line consisting of just backslash-capital D.  This command does the
      actual dump which is, because of the previous line, stored in the dump
      file.  And finally a line with just a greater than symbol.  This
      closes the file and redirects the output again to the screen.</p>
    <p>[Note: if you don't use the absolute path name of a file, the file
      will be created in the dorectory where the SQL Client was started.  On
      Windows this is at the location where the program was installed, and
      therefore using an absolute path name is highly recommended.]</p>
    <p>It is also possible to dump from the command line.  Start a SQL
      Server, and then issue the command</p>
    <pre>
      msqldump -umonetdb -Pmonetdb &gt; dump.sql
    </pre>
    <p>This command will connect to the SQL Server and dump the database into
      the file dump.sql in the current directory.</p>
    <h1>
      <a name="restoring-the-sql-database">Restoring the SQL
      database.</a>
    </h1>
    <p>After having dumped the database per the preceding instructions, it is
      possible to restore the database using the following commands.</p>
    <p>Start the SQL Server and SQL Client as usual.</p>
    <p>In the SQL Client, type the following command.</p>
    <pre>
      &lt;.../dump.sql
    </pre>
    <p>That is, a less than symbol followed by the absolute (!) path name of
      the dump file that was produced using the dump instructions.</p>
    <p>It is also possible to restore from the command line.  Start a SQL
      Server, and then issue the command</p>
    <pre>
      MapiClient -lsql -umonetdb -Pmonetdb &lt; dump.sql
    </pre>
  </body>
</html>
