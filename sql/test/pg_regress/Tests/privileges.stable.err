stderr of test 'privileges` in directory 'sql/test/pg_regress` itself:


# 17:11:04 >  
# 17:11:04 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "mapi_open=true" "--set" "mapi_port=38959" "--set" "mapi_usock=/var/tmp/mtest-1142/.s.monetdb.38959" "--set" "monet_prompt=" "--forcemito" "--set" "mal_listing=2" "--dbpath=/ufs/dinther/INSTALL/var/MonetDB/mTests_sql_test_pg_regress" "--set" "mal_listing=0"
# 17:11:04 >  

# builtin opt 	gdk_dbpath = /ufs/dinther/INSTALL/var/monetdb5/dbfarm/demo
# builtin opt 	gdk_debug = 0
# builtin opt 	gdk_vmtrim = no
# builtin opt 	monet_prompt = >
# builtin opt 	monet_daemon = no
# builtin opt 	mapi_port = 50000
# builtin opt 	mapi_open = false
# builtin opt 	mapi_autosense = false
# builtin opt 	sql_optimizer = default_pipe
# builtin opt 	sql_debug = 0
# cmdline opt 	gdk_nr_threads = 0
# cmdline opt 	mapi_open = true
# cmdline opt 	mapi_port = 38959
# cmdline opt 	mapi_usock = /var/tmp/mtest-1142/.s.monetdb.38959
# cmdline opt 	monet_prompt = 
# cmdline opt 	mal_listing = 2
# cmdline opt 	gdk_dbpath = /ufs/dinther/INSTALL/var/MonetDB/mTests_sql_test_pg_regress
# cmdline opt 	mal_listing = 0
# cmdline opt 	gdk_debug = 536870922

# 17:11:04 >  
# 17:11:04 >  "mclient" "-lsql" "-ftest" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-1142" "--port=38959"
# 17:11:04 >  

MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE USER regressuser1;
ERROR = !syntax error, unexpected SCOLON, expecting WITH in: "create user regressuser1;"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE USER regressuser2;
ERROR = !syntax error, unexpected SCOLON, expecting WITH in: "create user regressuser2;"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE USER regressuser3;
ERROR = !syntax error, unexpected SCOLON, expecting WITH in: "create user regressuser3;"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE USER regressuser4;
ERROR = !syntax error, unexpected SCOLON, expecting WITH in: "create user regressuser4;"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE USER regressuser4;	-- duplicate
ERROR = !syntax error, unexpected SCOLON, expecting WITH in: "create user regressuser4;"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE GROUP regressgroup1;
ERROR = !syntax error, unexpected sqlGROUP, expecting INDEX in: "create group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE GROUP regressgroup2 WITH USER regressuser1, regressuser2;
ERROR = !syntax error, unexpected sqlGROUP, expecting INDEX in: "create group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = ALTER GROUP regressgroup1 ADD USER regressuser4;
ERROR = !syntax error, unexpected sqlGROUP, expecting USER or SEQUENCE or TABLE in: "alter group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = ALTER GROUP regressgroup2 ADD USER regressuser2;	-- duplicate
ERROR = !syntax error, unexpected sqlGROUP, expecting USER or SEQUENCE or TABLE in: "alter group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = ALTER GROUP regressgroup2 DROP USER regressuser2;
ERROR = !syntax error, unexpected sqlGROUP, expecting USER or SEQUENCE or TABLE in: "alter group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = ALTER GROUP regressgroup2 ADD USER regressuser4;
ERROR = !syntax error, unexpected sqlGROUP, expecting USER or SEQUENCE or TABLE in: "alter group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = LOCK atest1 IN ACCESS EXCLUSIVE MODE;
ERROR = !syntax error, unexpected IDENT in: "lock"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT ALL ON atest1 TO regressuser2;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atest1 TO regressuser3, regressuser4;
ERROR = !GRANT: user/role 'regressuser3' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atest2 TO regressuser2;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT UPDATE ON atest2 TO regressuser3;
ERROR = !GRANT: user/role 'regressuser3' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT INSERT ON atest2 TO regressuser4;
ERROR = !GRANT: user/role 'regressuser4' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT * FROM atest1 FOR UPDATE; -- ok
ERROR = !syntax error, unexpected FOR, expecting SCOLON in: "select * from atest1 for"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT * FROM atest2 FOR UPDATE; -- fail
ERROR = !syntax error, unexpected FOR, expecting SCOLON in: "select * from atest2 for"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = LOCK atest2 IN ACCESS EXCLUSIVE MODE; -- fail
ERROR = !syntax error, unexpected IDENT in: "lock"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = COPY atest2 FROM stdin; -- fail
ERROR = !syntax error, unexpected IDENT, expecting BINARY or INTO in: "copy atest2"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = UPDATE atest2 SET col2 = true WHERE atest1.a = 5; -- ok
ERROR = !SELECT: no such column 'atest1.a'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT * FROM atest1 FOR UPDATE; -- fail
ERROR = !syntax error, unexpected FOR, expecting SCOLON in: "select * from atest1 for"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT * FROM atest2 FOR UPDATE; -- fail
ERROR = !syntax error, unexpected FOR, expecting SCOLON in: "select * from atest2 for"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = LOCK atest2 IN ACCESS EXCLUSIVE MODE; -- ok
ERROR = !syntax error, unexpected IDENT in: "lock"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = COPY atest2 FROM stdin; -- fail
ERROR = !syntax error, unexpected IDENT, expecting BINARY or INTO in: "copy atest2"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = COPY atest2 FROM stdin; -- ok
ERROR = !syntax error, unexpected IDENT, expecting BINARY or INTO in: "copy atest2"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = bar	true
        \.
        SELECT * FROM atest1; -- ok
ERROR = !syntax error, unexpected IDENT in: "bar"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT DELETE ON atest3 TO GROUP regressgroup2;
ERROR = !syntax error, unexpected sqlGROUP in: "grant delete on atest3 to group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atestv1, atestv3 TO regressuser4;
ERROR = !syntax error, unexpected ',', expecting TO in: "grant select on atestv1,"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atestv2 TO regressuser2;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atestv4 TO regressuser2;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = REVOKE ALL PRIVILEGES ON LANGUAGE sql FROM PUBLIC;
ERROR = !syntax error, unexpected IDENT, expecting FROM in: "revoke all privileges on language sql"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT USAGE ON LANGUAGE sql TO regressuser1; -- ok
ERROR = !syntax error, unexpected ON, expecting TO or ',' in: "grant usage on"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT USAGE ON LANGUAGE c TO PUBLIC; -- fail
ERROR = !syntax error, unexpected ON, expecting TO or ',' in: "grant usage on"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT USAGE ON LANGUAGE sql TO regressuser2; -- fail
ERROR = !syntax error, unexpected ON, expecting TO or ',' in: "grant usage on"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE FUNCTION testfunc1(int) RETURNS int AS 'select 2 * $1;' LANGUAGE sql;
ERROR = !syntax error, unexpected sqlINTEGER, expecting ')' in: "create function testfunc1(int"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE FUNCTION testfunc2(int) RETURNS int AS 'select 3 * $1;' LANGUAGE sql;
ERROR = !syntax error, unexpected sqlINTEGER, expecting ')' in: "create function testfunc2(int"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = REVOKE ALL ON FUNCTION testfunc1(int), testfunc2(int) FROM PUBLIC;
ERROR = !syntax error, unexpected FUNCTION in: "revoke all on function"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT EXECUTE ON FUNCTION testfunc1(int), testfunc2(int) TO regressuser2;
ERROR = !syntax error, unexpected FUNCTION in: "grant execute on function"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT USAGE ON FUNCTION testfunc1(int) TO regressuser3; -- semantic error
ERROR = !syntax error, unexpected ON, expecting TO or ',' in: "grant usage on"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT ALL PRIVILEGES ON FUNCTION testfunc1(int) TO regressuser4;
ERROR = !syntax error, unexpected FUNCTION in: "grant all privileges on function"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT ALL PRIVILEGES ON FUNCTION testfunc_nosuch(int) TO regressuser4;
ERROR = !syntax error, unexpected FUNCTION in: "grant all privileges on function"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE FUNCTION testfunc4(boolean) RETURNS text
          AS 'select col1 from atest2 where col2 = $1;'
          LANGUAGE sql SECURITY DEFINER;
ERROR = !syntax error, unexpected ')' in: "create function testfunc4(boolean)"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT EXECUTE ON FUNCTION testfunc4(boolean) TO regressuser3;
ERROR = !syntax error, unexpected FUNCTION in: "grant execute on function"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT testfunc1(5), testfunc2(5); -- ok
ERROR = !SELECT: no such unary operator 'testfunc1(tinyint)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = CREATE FUNCTION testfunc3(int) RETURNS int AS 'select 2 * $1;' LANGUAGE sql; -- fail
ERROR = !syntax error, unexpected sqlINTEGER, expecting ')' in: "create function testfunc3(int"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT testfunc1(5); -- fail
ERROR = !SELECT: no such unary operator 'testfunc1(tinyint)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT testfunc4(true); -- ok
ERROR = !SELECT: no such unary operator 'testfunc4(boolean)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT testfunc1(5); -- ok
ERROR = !SELECT: no such unary operator 'testfunc1(tinyint)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP FUNCTION testfunc1(int); -- fail
ERROR = !DROP FUNCTION: no such function 'testfunc1' (int(32))
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP FUNCTION testfunc1(int); -- ok
ERROR = !DROP FUNCTION: no such function 'testfunc1' (int(32))
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT ALL PRIVILEGES ON LANGUAGE sql TO PUBLIC;
ERROR = !syntax error, unexpected IDENT, expecting TO in: "grant all privileges on language sql"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(NULL,'pg_shadow','select');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_shad','select');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('nosuchuser','pg_shadow','select');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_shadow','sel');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(-999999,'pg_shadow','update');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(1,'rule');
ERROR = !SELECT: no such binary operator 'has_table_privilege(tinyint,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'pg_shadow','select');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'pg_shadow','insert');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'pg_shadow','update')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'pg_shadow','delete')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'rule')
        from (select oid from pg_class where relname = 'pg_shadow') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'references')
        from (select oid from pg_class where relname = 'pg_shadow') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'select')
        from (select oid from pg_class where relname = 'pg_shadow') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'insert')
        from (select oid from pg_class where relname = 'pg_shadow') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_shadow','update');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_shadow','delete');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'select')
        from (select oid from pg_class where relname = 'pg_shadow') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'trigger')
        from (select oid from pg_class where relname = 'pg_shadow') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'pg_class','select');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'pg_class','insert');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'pg_class','update')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'pg_class','delete')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'rule')
        from (select oid from pg_class where relname = 'pg_class') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'references')
        from (select oid from pg_class where relname = 'pg_class') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'select')
        from (select oid from pg_class where relname = 'pg_class') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'insert')
        from (select oid from pg_class where relname = 'pg_class') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_class','update');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('pg_class','delete');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'select')
        from (select oid from pg_class where relname = 'pg_class') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'trigger')
        from (select oid from pg_class where relname = 'pg_class') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'atest1','select');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,'atest1','insert');
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'atest1','update')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,'atest1','delete')
        from (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_user'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'rule')
        from (select oid from pg_class where relname = 'atest1') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(current_user,t1.oid,'references')
        from (select oid from pg_class where relname = 'atest1') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'select')
        from (select oid from pg_class where relname = 'atest1') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t2.usesysid,t1.oid,'insert')
        from (select oid from pg_class where relname = 'atest1') as t1,
          (select usesysid from pg_user where usename = current_user) as t2;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('atest1','update');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege('atest1','delete');
ERROR = !SELECT: no such binary operator 'has_table_privilege(char,char)'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'select')
        from (select oid from pg_class where relname = 'atest1') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = select has_table_privilege(t1.oid,'trigger')
        from (select oid from pg_class where relname = 'atest1') as t1;
ERROR = !SELECT: no such table 'pg_class'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atest4 TO regressuser2 WITH GRANT OPTION;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT UPDATE ON atest4 TO regressuser2;
ERROR = !GRANT: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atest4 TO GROUP regressgroup1 WITH GRANT OPTION; -- fail
ERROR = !syntax error, unexpected sqlGROUP in: "grant select on atest4 to group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT SELECT ON atest4 TO regressuser3;
ERROR = !GRANT: user/role 'regressuser3' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = GRANT UPDATE ON atest4 TO regressuser3; -- fail
ERROR = !GRANT: user/role 'regressuser3' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = REVOKE SELECT ON atest4 FROM regressuser3; -- does nothing
ERROR = !REVOKE: user/role 'regressuser3' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT has_table_privilege('regressuser3', 'atest4', 'SELECT'); -- true
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = REVOKE SELECT ON atest4 FROM regressuser2; -- fail
ERROR = !REVOKE: user/role 'regressuser2' unknown
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = REVOKE GRANT OPTION FOR SELECT ON atest4 FROM regressuser2 CASCADE; -- ok
ERROR = !syntax error, unexpected CASCADE, expecting SCOLON in: "revoke grant option for select on atest4 from regressuser2 cascade"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT has_table_privilege('regressuser2', 'atest4', 'SELECT'); -- true
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT has_table_privilege('regressuser3', 'atest4', 'SELECT'); -- false
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = SELECT has_table_privilege('regressuser1', 'atest4', 'SELECT WITH GRANT OPTION'); -- true
ERROR = !SELECT: no such operator 'has_table_privilege'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP FUNCTION testfunc2(int);
ERROR = !DROP FUNCTION: no such function 'testfunc2' (int(32))
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP FUNCTION testfunc4(boolean);
ERROR = !DROP FUNCTION: no such function 'testfunc4' (boolean(1))
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP VIEW atestv4;
ERROR = !DROP VIEW: unknown view 'atestv4'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP GROUP regressgroup1;
ERROR = !syntax error, unexpected sqlGROUP in: "drop group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP GROUP regressgroup2;
ERROR = !syntax error, unexpected sqlGROUP in: "drop group"
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP USER regressuser1;
ERROR = !DROP USER: no such user: 'regressuser1'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP USER regressuser2;
ERROR = !DROP USER: no such user: 'regressuser2'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP USER regressuser3;
ERROR = !DROP USER: no such user: 'regressuser3'
MAPI  = (monetdb) /var/tmp/mtest-1142/.s.monetdb.38959
QUERY = DROP USER regressuser4;
ERROR = !DROP USER: no such user: 'regressuser4'

# 17:11:05 >  
# 17:11:05 >  "Done."
# 17:11:05 >  

