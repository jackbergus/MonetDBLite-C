stdout of test '02-explain` in directory 'sql/benchmarks/tpch` itself:


# 22:53:25 >  
# 22:53:25 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "mapi_open=true" "--set" "mapi_port=34581" "--set" "mapi_usock=/var/tmp/mtest-9096/.s.monetdb.34581" "--set" "monet_prompt=" "--forcemito" "--set" "mal_listing=2" "--dbpath=/ufs/manegold/_/Monet/HG/Feb2013/prefix/--disable-debug_--enable-assert_--enable-optimize/var/MonetDB/mTests_sql_benchmarks_tpch" "--set" "mal_listing=0"
# 22:53:25 >  

# MonetDB 5 server v11.15.12
# This is an unreleased version
# Serving database 'mTests_sql_benchmarks_tpch', using 8 threads
# Compiled for x86_64-unknown-linux-gnu/64bit with 64bit OIDs dynamically linked
# Found 15.591 GiB available main-memory.
# Copyright (c) 1993-July 2008 CWI.
# Copyright (c) August 2008-2015 MonetDB B.V., all rights reserved
# Visit http://www.monetdb.org/ for further information
# Listening for connection requests on mapi:monetdb://rome.ins.cwi.nl:34581/
# Listening for UNIX domain connection requests on mapi:monetdb:///var/tmp/mtest-9096/.s.monetdb.34581
# MonetDB/GIS module loaded
# MonetDB/JAQL module loaded
# MonetDB/SQL module loaded

Ready.

# 22:53:25 >  
# 22:53:25 >  "/usr/bin/python2" "02-explain.SQL.py" "02-explain"
# 22:53:25 >  

#set optimizer = 'sequential_pipe';
#explain select
#	s_acctbal,
#	s_name,
#	n_name,
#	p_partkey,
#	p_mfgr,
#	s_address,
#	s_phone,
#	s_comment
#from
#	part,
#	supplier,
#	partsupp,
#	nation,
#	region
#where
#	p_partkey = ps_partkey
#	and s_suppkey = ps_suppkey
#	and p_size = 15
#	and p_type like '%BRASS'
#	and s_nationkey = n_nationkey
#	and n_regionkey = r_regionkey
#	and r_name = 'EUROPE'
#	and ps_supplycost = (
#		select
#			min(ps_supplycost)
#		from
#			partsupp,
#			supplier,
#			nation,
#			region
#		where
#			p_partkey = ps_partkey
#			and s_suppkey = ps_suppkey
#			and s_nationkey = n_nationkey
% .explain # table_name
% mal # name
% clob # type
% 844 # length
function user.s2_1{autoCommit=true}(A0:int,A1:str,A2:str,A3:str):void;
    X_327:void := querylog.define("explain select\n\ts_acctbal,\n\ts_name,\n\tn_name,\n\tp_partkey,\n\tp_mfgr,\n\ts_address,\n\ts_phone,\n\ts_comment\nfrom\n\tpart,\n\tsupplier,\n\tpartsupp,\n\tnation,\n\tregion\nwhere\n\tp_partkey = ps_partkey\n\tand s_suppkey = ps_suppkey\n\tand p_size = 15\n\tand p_type like \\'%BRASS\\'\n\tand s_nationkey = n_nationkey\n\tand n_regionkey = r_regionkey\n\tand r_name = \\'EUROPE\\'\n\tand ps_supplycost = (\n\t\tselect\n\t\t\tmin(ps_supplycost)\n\t\tfrom\n\t\t\tpartsupp,\n\t\t\tsupplier,\n\t\t\tnation,\n\t\t\tregion\n\t\twhere\n\t\t\tp_partkey = ps_partkey\n\t\t\tand s_suppkey = ps_suppkey\n\t\t\tand s_nationkey = n_nationkey\n\t\t\tand n_regionkey = r_regionkey\n\t\t\tand r_name = \\'EUROPE\\'\n\t)\norder by\n\ts_acctbal desc,\n\tn_name,\n\ts_name,\n\tp_partkey\nlimit 100;","sequential_pipe",199);
    X_253 := bat.new(nil:oid,nil:str);
    X_261 := bat.append(X_253,"sys.supplier");
    X_271 := bat.append(X_261,"sys.supplier");
    X_280 := bat.append(X_271,"sys.nation");
    X_287 := bat.append(X_280,"sys.part");
    X_296 := bat.append(X_287,"sys.part");
    X_302 := bat.append(X_296,"sys.supplier");
    X_311 := bat.append(X_302,"sys.supplier");
    X_320 := bat.append(X_311,"sys.supplier");
    X_256 := bat.new(nil:oid,nil:str);
    X_263 := bat.append(X_256,"s_acctbal");
    X_272 := bat.append(X_263,"s_name");
    X_282 := bat.append(X_272,"n_name");
    X_289 := bat.append(X_282,"p_partkey");
    X_297 := bat.append(X_289,"p_mfgr");
    X_304 := bat.append(X_297,"s_address");
    X_312 := bat.append(X_304,"s_phone");
    X_321 := bat.append(X_312,"s_comment");
    X_257 := bat.new(nil:oid,nil:str);
    X_265 := bat.append(X_257,"decimal");
    X_274 := bat.append(X_265,"char");
    X_284 := bat.append(X_274,"char");
    X_291 := bat.append(X_284,"int");
    X_299 := bat.append(X_291,"char");
    X_306 := bat.append(X_299,"varchar");
    X_314 := bat.append(X_306,"char");
    X_323 := bat.append(X_314,"varchar");
    X_258 := bat.new(nil:oid,nil:int);
    X_267 := bat.append(X_258,15);
    X_276 := bat.append(X_267,25);
    X_285 := bat.append(X_276,25);
    X_293 := bat.append(X_285,32);
    X_300 := bat.append(X_293,25);
    X_308 := bat.append(X_300,40);
    X_316 := bat.append(X_308,15);
    X_324 := bat.append(X_316,101);
    X_260 := bat.new(nil:oid,nil:int);
    X_269 := bat.append(X_260,2);
    X_278 := bat.append(X_269,0);
    X_286 := bat.append(X_278,0);
    X_295 := bat.append(X_286,0);
    X_301 := bat.append(X_295,0);
    X_310 := bat.append(X_301,0);
    X_318 := bat.append(X_310,0);
    X_326 := bat.append(X_318,0);
    X_6 := sql.mvc();
    X_7:bat[:oid,:oid]  := sql.tid(X_6,"sys","nation");
    X_10:bat[:oid,:oid]  := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",0);
    (X_13,r1_13) := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",2);
    X_16:bat[:oid,:oid]  := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",1);
    X_18 := sql.projectdelta(X_7,X_10,X_13,r1_13,X_16);
    X_21:bat[:oid,:str]  := sql.bind(X_6,"sys","region","r_name",0);
    X_19:bat[:oid,:oid]  := sql.tid(X_6,"sys","region");
    X_369 := algebra.subselect(X_21,X_19,A3,A3,true,true,false);
    (X_23,r1_24) := sql.bind(X_6,"sys","region","r_name",2);
    X_370 := algebra.subselect(r1_24,nil:bat[:oid,:oid],A3,A3,true,true,false);
    X_25:bat[:oid,:str]  := sql.bind(X_6,"sys","region","r_name",1);
    X_372 := algebra.subselect(X_25,X_19,A3,A3,true,true,false);
    X_26 := sql.subdelta(X_369,X_19,X_23,X_370,X_372);
    (X_28,r1_33) := algebra.subjoin(X_18,X_26,nil:BAT,nil:BAT,false,nil:lng);
    X_32 := algebra.leftfetchjoin(X_28,X_7);
    X_33:bat[:oid,:oid] := sql.tid(X_6,"sys","supplier");
    X_35:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",0);
    (X_38,r1_43) := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",2);
    X_40:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",1);
    X_41 := sql.projectdelta(X_33,X_35,X_38,r1_43,X_40);
    (X_42,r1_48) := algebra.subjoin(X_32,X_41,nil:BAT,nil:BAT,false,nil:lng);
    X_44 := algebra.leftfetchjoin(r1_48,X_33);
    X_45:bat[:oid,:oid] := sql.tid(X_6,"sys","partsupp");
    X_47:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_suppkey_fkey",0);
    (X_50,r1_56) := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_suppkey_fkey",2);
    X_53:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_suppkey_fkey",1);
    X_55 := sql.projectdelta(X_45,X_47,X_50,r1_56,X_53);
    (X_56,r1_63) := algebra.subjoin(X_44,X_55,nil:BAT,nil:BAT,false,nil:lng);
    X_59:bat[:oid,:int] := sql.bind(X_6,"sys","partsupp","ps_partkey",0);
    (X_61,r1_68) := sql.bind(X_6,"sys","partsupp","ps_partkey",2);
    X_63:bat[:oid,:int] := sql.bind(X_6,"sys","partsupp","ps_partkey",1);
    X_64 := sql.projectdelta(X_45,X_59,X_61,r1_68,X_63);
    X_65 := algebra.leftfetchjoin(r1_63,X_64);
    X_67:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_partkey_fkey",0);
    (X_69,r1_78) := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_partkey_fkey",2);
    X_71:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","partsupp","partsupp_ps_partkey_fkey",1);
    X_72 := sql.projectdelta(X_45,X_67,X_69,r1_78,X_71);
    X_75:bat[:oid,:str] := sql.bind(X_6,"sys","part","p_type",0);
    X_81:bat[:oid,:int] := sql.bind(X_6,"sys","part","p_size",0);
    X_73:bat[:oid,:oid] := sql.tid(X_6,"sys","part");
    X_373 := algebra.subselect(X_81,X_73,A0,A0,true,true,false);
    (X_83,r1_97) := sql.bind(X_6,"sys","part","p_size",2);
    X_374 := algebra.subselect(r1_97,nil:bat[:oid,:oid],A0,A0,true,true,false);
    X_85:bat[:oid,:int] := sql.bind(X_6,"sys","part","p_size",1);
    X_376 := algebra.subselect(X_85,X_73,A0,A0,true,true,false);
    X_86 := sql.subdelta(X_373,X_73,X_83,X_374,X_376);
    X_377 := algebra.likesubselect(X_75,X_86,A1,"",false);
    (X_77,r1_87) := sql.bind(X_6,"sys","part","p_type",2);
    X_378 := algebra.likesubselect(r1_87,nil:bat[:oid,:oid],A1,"",false);
    X_79:bat[:oid,:str] := sql.bind(X_6,"sys","part","p_type",1);
    X_380 := algebra.likesubselect(X_79,X_86,A1,"",false);
    X_89 := sql.subdelta(X_377,X_86,X_77,X_378,X_380);
    (X_90,r1_108) := algebra.subjoin(X_72,X_89,nil:BAT,nil:BAT,false,nil:lng);
    X_95 := algebra.leftfetchjoin(X_90,X_55);
    X_96:bat[:oid,:oid] := sql.tid(X_6,"sys","supplier");
    (X_98,r1_122) := algebra.subjoin(X_95,X_96,nil:BAT,nil:BAT,false,nil:lng);
    X_100:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",0);
    (X_102,r1_126) := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",2);
    X_104:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","supplier","supplier_s_nationkey_fkey",1);
    X_105 := sql.projectdelta(X_96,X_100,X_102,r1_126,X_104);
    X_106 := algebra.leftfetchjoin(r1_122,X_105);
    X_107:bat[:oid,:oid] := sql.tid(X_6,"sys","nation");
    (X_109,r1_134) := algebra.subjoin(X_106,X_107,nil:BAT,nil:BAT,false,nil:lng);
    X_111:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",0);
    (X_114,r1_139) := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",2);
    X_117:bat[:oid,:oid] := sql.bind_idxbat(X_6,"sys","nation","nation_n_regionkey_fkey",1);
    X_118 := sql.projectdelta(X_107,X_111,X_114,r1_139,X_117);
    X_119 := algebra.leftfetchjoin(r1_134,X_118);
    X_123:bat[:oid,:str] := sql.bind(X_6,"sys","region","r_name",0);
    X_120:bat[:oid,:oid] := sql.tid(X_6,"sys","region");
    X_381 := algebra.subselect(X_123,X_120,A2,A2,true,true,false);
    (X_125,r1_151) := sql.bind(X_6,"sys","region","r_name",2);
    X_382 := algebra.subselect(r1_151,nil:bat[:oid,:oid],A2,A2,true,true,false);
    X_127:bat[:oid,:str] := sql.bind(X_6,"sys","region","r_name",1);
    X_384 := algebra.subselect(X_127,X_120,A2,A2,true,true,false);
    X_129 := sql.subdelta(X_381,X_120,X_125,X_382,X_384);
    (X_132,r1_162) := algebra.subjoin(X_119,X_129,nil:BAT,nil:BAT,false,nil:lng);
    X_136:bat[:oid,:int] := sql.bind(X_6,"sys","part","p_partkey",0);
    (X_138,r1_168) := sql.bind(X_6,"sys","part","p_partkey",2);
    X_140:bat[:oid,:int] := sql.bind(X_6,"sys","part","p_partkey",1);
    X_141 := sql.projectdelta(X_89,X_136,X_138,r1_168,X_140);
    X_142:bat[:oid,:int] := algebra.leftfetchjoinPath(X_132,X_109,X_98,r1_108,X_141);
    (X_143,r1_178) := algebra.subjoin(X_65,X_142,nil:BAT,nil:BAT,false,nil:lng);
    X_145:bat[:oid,:oid] := batcalc.identity(X_142);
    X_146 := algebra.leftfetchjoin(r1_178,X_145);
    (X_147,r1_184,r2_184) := group.subgroupdone(X_146);
    X_150:bat[:oid,:lng] := sql.bind(X_6,"sys","partsupp","ps_supplycost",0);
    (X_154,r1_191) := sql.bind(X_6,"sys","partsupp","ps_supplycost",2);
    X_156:bat[:oid,:lng] := sql.bind(X_6,"sys","partsupp","ps_supplycost",1);
    X_157 := sql.projectdelta(X_45,X_150,X_154,r1_191,X_156);
    X_158:bat[:oid,:lng] := algebra.leftfetchjoinPath(r1_184,r1_178,X_132,X_109,X_98,X_90,X_157);
    X_159:bat[:oid,:lng] := algebra.leftfetchjoinPath(X_143,r1_63,X_157);
    X_160:bat[:oid,:lng] := aggr.submin(X_159,X_147,r1_184,true);
    X_162:bat[:oid,:bit] := batcalc.==(X_158,X_160);
    X_163 := algebra.subselect(X_162,true,true,true,true,false);
    X_165:bat[:oid,:int] := algebra.leftfetchjoinPath(X_163,r1_184,r1_178,X_142);
    X_166:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_name",0);
    (X_168,r1_221) := sql.bind(X_6,"sys","supplier","s_name",2);
    X_171:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_name",1);
    X_172 := sql.projectdelta(X_96,X_166,X_168,r1_221,X_171);
    X_173:bat[:oid,:str] := algebra.leftfetchjoinPath(X_163,r1_184,r1_178,X_132,X_109,r1_122,X_172);
    X_174:bat[:oid,:str] := sql.bind(X_6,"sys","nation","n_name",0);
    (X_176,r1_235) := sql.bind(X_6,"sys","nation","n_name",2);
    X_178:bat[:oid,:str] := sql.bind(X_6,"sys","nation","n_name",1);
    X_179 := sql.projectdelta(X_107,X_174,X_176,r1_235,X_178);
    X_180:bat[:oid,:str] := algebra.leftfetchjoinPath(X_163,r1_184,r1_178,X_132,r1_134,X_179);
    X_181:bat[:oid,:lng] := sql.bind(X_6,"sys","supplier","s_acctbal",0);
    (X_183,r1_247) := sql.bind(X_6,"sys","supplier","s_acctbal",2);
    X_185:bat[:oid,:lng] := sql.bind(X_6,"sys","supplier","s_acctbal",1);
    X_186 := sql.projectdelta(X_96,X_181,X_183,r1_247,X_185);
    X_187:bat[:oid,:lng] := algebra.leftfetchjoinPath(X_163,r1_184,r1_178,X_132,X_109,r1_122,X_186);
    X_221:bat[:oid,:str] := sql.bind(X_6,"sys","part","p_mfgr",0);
    (X_225,r1_314) := sql.bind(X_6,"sys","part","p_mfgr",2);
    X_227:bat[:oid,:str] := sql.bind(X_6,"sys","part","p_mfgr",1);
    X_228 := sql.projectdelta(X_89,X_221,X_225,r1_314,X_227);
    (X_188,r1_263) := algebra.firstn(X_187,100:wrd,false,false);
    (X_191,r1_268) := algebra.firstn(X_180,X_188,r1_263,100:wrd,true,false);
    (X_194,r1_273) := algebra.firstn(X_173,X_191,r1_268,100:wrd,true,false);
    X_196 := algebra.firstn(X_165,X_194,r1_273,100:wrd,true,false);
    X_197 := algebra.leftfetchjoin(X_196,X_165);
    X_198 := algebra.leftfetchjoin(X_196,X_173);
    X_199 := algebra.leftfetchjoin(X_196,X_180);
    X_200 := algebra.leftfetchjoin(X_196,X_187);
    (X_201,r1_282,r2_282) := algebra.subsort(X_200,true,false);
    (X_204,r1_285,r2_285) := algebra.subsort(X_199,r1_282,r2_282,false,false);
    (X_207,r1_288,r2_288) := algebra.subsort(X_198,r1_285,r2_285,false,false);
    (X_210,r1_291,r2_291) := algebra.subsort(X_197,r1_288,r2_288,false,false);
    X_213 := algebra.leftfetchjoin(r1_291,X_200);
    X_216 := algebra.subslice(X_213,0,99:wrd);
    X_229:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_196,X_163,r1_184,r1_178,X_132,X_109,X_98,r1_108,X_228);
    X_230:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_address",0);
    (X_232,r1_332) := sql.bind(X_6,"sys","supplier","s_address",2);
    X_234:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_address",1);
    X_235 := sql.projectdelta(X_96,X_230,X_232,r1_332,X_234);
    X_236:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_196,X_163,r1_184,r1_178,X_132,X_109,r1_122,X_235);
    X_237:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_phone",0);
    (X_240,r1_349) := sql.bind(X_6,"sys","supplier","s_phone",2);
    X_242:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_phone",1);
    X_243 := sql.projectdelta(X_96,X_237,X_240,r1_349,X_242);
    X_244:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_196,X_163,r1_184,r1_178,X_132,X_109,r1_122,X_243);
    X_245:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_comment",0);
    (X_247,r1_365) := sql.bind(X_6,"sys","supplier","s_comment",2);
    X_249:bat[:oid,:str] := sql.bind(X_6,"sys","supplier","s_comment",1);
    X_250 := sql.projectdelta(X_96,X_245,X_247,r1_365,X_249);
    X_251:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_196,X_163,r1_184,r1_178,X_132,X_109,r1_122,X_250);
    X_217 := algebra.leftfetchjoin(X_216,X_213);
    X_218:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_198);
    X_219:bat[:oid,:str] := algebra.leftfetchjoinPath(X_216,r1_291,X_199);
    X_220:bat[:oid,:int] := algebra.leftfetchjoinPath(X_216,r1_291,X_197);
    sql.resultSet(X_320,X_321,X_323,X_324,X_326,X_217,X_218,X_219,X_220,X_229,X_236,X_244,X_251);
end user.s2_1;

# 22:53:25 >  
# 22:53:25 >  "Done."
# 22:53:25 >  

