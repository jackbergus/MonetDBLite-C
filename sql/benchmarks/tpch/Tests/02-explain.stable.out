stdout of test '02-explain` in directory 'sql/benchmarks/tpch` itself:


# 22:53:25 >  
# 22:53:25 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "mapi_open=true" "--set" "mapi_port=34581" "--set" "mapi_usock=/var/tmp/mtest-9096/.s.monetdb.34581" "--set" "monet_prompt=" "--forcemito" "--set" "mal_listing=2" "--dbpath=/ufs/manegold/_/Monet/HG/Feb2013/prefix/--disable-debug_--enable-assert_--enable-optimize/var/MonetDB/mTests_sql_benchmarks_tpch" "--set" "mal_listing=0"
# 22:53:25 >  

# MonetDB 5 server v11.15.12
# This is an unreleased version
# Serving database 'mTests_sql_benchmarks_tpch', using 8 threads
# Compiled for x86_64-unknown-linux-gnu/64bit with 64bit OIDs dynamically linked
# Found 15.591 GiB available main-memory.
# Copyright (c) 1993-July 2008 CWI.
# Copyright (c) August 2008-2015 MonetDB B.V., all rights reserved
# Visit http://www.monetdb.org/ for further information
# Listening for connection requests on mapi:monetdb://rome.ins.cwi.nl:34581/
# Listening for UNIX domain connection requests on mapi:monetdb:///var/tmp/mtest-9096/.s.monetdb.34581
# MonetDB/GIS module loaded
# MonetDB/JAQL module loaded
# MonetDB/SQL module loaded

Ready.

# 22:53:25 >  
# 22:53:25 >  "/usr/bin/python2" "02-explain.SQL.py" "02-explain"
# 22:53:25 >  

#set optimizer = 'sequential_pipe';
#explain select
#	s_acctbal,
#	s_name,
#	n_name,
#	p_partkey,
#	p_mfgr,
#	s_address,
#	s_phone,
#	s_comment
#from
#	part,
#	supplier,
#	partsupp,
#	nation,
#	region
#where
#	p_partkey = ps_partkey
#	and s_suppkey = ps_suppkey
#	and p_size = 15
#	and p_type like '%BRASS'
#	and s_nationkey = n_nationkey
#	and n_regionkey = r_regionkey
#	and r_name = 'EUROPE'
#	and ps_supplycost = (
#		select
#			min(ps_supplycost)
#		from
#			partsupp,
#			supplier,
#			nation,
#			region
#		where
#			p_partkey = ps_partkey
#			and s_suppkey = ps_suppkey
#			and s_nationkey = n_nationkey
% .explain # table_name
% mal # name
% clob # type
% 759 # length
function user.s2_1():void;
    X_258:void := querylog.define("explain select\n s_acctbal,\n s_name,\n n_name,\n p_partkey,\n p_mfgr,\n s_address,\n s_phone,\n s_comment\nfrom\n part,\n supplier,\n partsupp,\n nation,\n region\nwhere\n p_partkey = ps_partkey\n and s_suppkey = ps_suppkey\n and p_size = 15\n and p_type like \\'%BRASS\\'\n and s_nationkey = n_nationkey\n and n_regionkey = r_regionkey\n and r_name = \\'EUROPE\\'\n and ps_supplycost = (\n select\n min(ps_supplycost)\n from\n partsupp,\n supplier,\n nation,\n region\n where\n p_partkey = ps_partkey\n and s_suppkey = ps_suppkey\n and s_nationkey = n_nationkey\n and n_regionkey = r_regionkey\n and r_name = \\'EUROPE\\'\n )\norder by\n s_acctbal desc,\n n_name,\n s_name,\n p_partkey\nlimit 100;","sequential_pipe",181);
    X_199 := bat.new(nil:oid,nil:str);
    X_207 := bat.append(X_199,"sys.supplier");
    X_214 := bat.append(X_207,"sys.supplier");
    X_221 := bat.append(X_214,"sys.nation");
    X_227 := bat.append(X_221,"sys.part");
    X_235 := bat.append(X_227,"sys.part");
    X_240 := bat.append(X_235,"sys.supplier");
    X_247 := bat.append(X_240,"sys.supplier");
    X_252 := bat.append(X_247,"sys.supplier");
    X_202 := bat.new(nil:oid,nil:str);
    X_209 := bat.append(X_202,"s_acctbal");
    X_215 := bat.append(X_209,"s_name");
    X_223 := bat.append(X_215,"n_name");
    X_229 := bat.append(X_223,"p_partkey");
    X_236 := bat.append(X_229,"p_mfgr");
    X_241 := bat.append(X_236,"s_address");
    X_248 := bat.append(X_241,"s_phone");
    X_253 := bat.append(X_248,"s_comment");
    X_203 := bat.new(nil:oid,nil:str);
    X_210 := bat.append(X_203,"decimal");
    X_216 := bat.append(X_210,"char");
    X_224 := bat.append(X_216,"char");
    X_230 := bat.append(X_224,"int");
    X_237 := bat.append(X_230,"char");
    X_242 := bat.append(X_237,"varchar");
    X_249 := bat.append(X_242,"char");
    X_254 := bat.append(X_249,"varchar");
    X_204 := bat.new(nil:oid,nil:int);
    X_212 := bat.append(X_204,15);
    X_218 := bat.append(X_212,25);
    X_225 := bat.append(X_218,25);
    X_232 := bat.append(X_225,32);
    X_238 := bat.append(X_232,25);
    X_244 := bat.append(X_238,40);
    X_250 := bat.append(X_244,15);
    X_255 := bat.append(X_250,101);
    X_206 := bat.new(nil:oid,nil:int);
    X_213 := bat.append(X_206,2);
    X_220 := bat.append(X_213,0);
    X_226 := bat.append(X_220,0);
    X_234 := bat.append(X_226,0);
    X_239 := bat.append(X_234,0);
    X_246 := bat.append(X_239,0);
    X_251 := bat.append(X_246,0);
    X_257 := bat.append(X_251,0);
    X_4 := sql.mvc();
    C_5:bat[:oid] := sql.tid(X_4,"sys","nation");
    X_8:bat[:oid] := sql.bind_idxbat(X_4,"sys","nation","nation_n_regionkey_fkey",0);
    (X_11,r1_12) := sql.bind_idxbat(X_4,"sys","nation","nation_n_regionkey_fkey",2);
    X_14:bat[:oid] := sql.bind_idxbat(X_4,"sys","nation","nation_n_regionkey_fkey",1);
    X_16 := sql.projectdelta(C_5,X_8,X_11,r1_12,X_14);
    X_19:bat[:str] := sql.bind(X_4,"sys","region","r_name",0);
    C_17:bat[:oid] := sql.tid(X_4,"sys","region");
    C_268 := algebra.subselect(X_19,C_17,"EUROPE","EUROPE",true,false,false);
    (C_21,r1_23) := sql.bind(X_4,"sys","region","r_name",2);
    C_269 := algebra.subselect(r1_23,nil:bat[:oid],"EUROPE","EUROPE",true,false,false);
    X_23:bat[:str] := sql.bind(X_4,"sys","region","r_name",1);
    C_271 := algebra.subselect(X_23,C_17,"EUROPE","EUROPE",true,false,false);
    C_24 := sql.subdelta(C_268,C_17,C_21,C_269,C_271);
    (X_27,r1_34) := algebra.subjoin(X_16,C_24,nil:BAT,nil:BAT,false,nil:lng);
    X_31 := algebra.projection(X_27,C_5);
    C_32:bat[:oid] := sql.tid(X_4,"sys","supplier");
    X_34:bat[:oid] := sql.bind_idxbat(X_4,"sys","supplier","supplier_s_nationkey_fkey",0);
    (X_36,r1_44) := sql.bind_idxbat(X_4,"sys","supplier","supplier_s_nationkey_fkey",2);
    X_38:bat[:oid] := sql.bind_idxbat(X_4,"sys","supplier","supplier_s_nationkey_fkey",1);
    X_39 := sql.projectdelta(C_32,X_34,X_36,r1_44,X_38);
    (X_40,r1_49) := algebra.subjoin(X_31,X_39,nil:BAT,nil:BAT,false,nil:lng);
    X_42 := algebra.projection(r1_49,C_32);
    C_43:bat[:oid] := sql.tid(X_4,"sys","partsupp");
    X_45:bat[:oid] := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_suppkey_fkey",0);
    (X_47,r1_56) := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_suppkey_fkey",2);
    X_49:bat[:oid] := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_suppkey_fkey",1);
    X_50 := sql.projectdelta(C_43,X_45,X_47,r1_56,X_49);
    (X_51,r1_61) := algebra.subjoin(X_42,X_50,nil:BAT,nil:BAT,false,nil:lng);
    X_53:bat[:int] := sql.bind(X_4,"sys","partsupp","ps_partkey",0);
    (C_55,r1_65) := sql.bind(X_4,"sys","partsupp","ps_partkey",2);
    X_57:bat[:int] := sql.bind(X_4,"sys","partsupp","ps_partkey",1);
    X_58 := sql.projectdelta(C_43,X_53,C_55,r1_65,X_57);
    X_59 := algebra.projection(r1_61,X_58);
    X_60:bat[:oid] := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_partkey_fkey",0);
    (X_62,r1_74) := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_partkey_fkey",2);
    X_64:bat[:oid] := sql.bind_idxbat(X_4,"sys","partsupp","partsupp_ps_partkey_fkey",1);
    X_65 := sql.projectdelta(C_43,X_60,X_62,r1_74,X_64);
    X_68:bat[:str] := sql.bind(X_4,"sys","part","p_type",0);
    X_74:bat[:int] := sql.bind(X_4,"sys","part","p_size",0);
    C_66:bat[:oid] := sql.tid(X_4,"sys","part");
    C_272 := algebra.subselect(X_74,C_66,15,15,true,false,false);
    (C_76,r1_93) := sql.bind(X_4,"sys","part","p_size",2);
    C_273 := algebra.subselect(r1_93,nil:bat[:oid],15,15,true,false,false);
    X_78:bat[:int] := sql.bind(X_4,"sys","part","p_size",1);
    C_274 := algebra.subselect(X_78,C_66,15,15,true,false,false);
    C_79 := sql.subdelta(C_272,C_66,C_76,C_273,C_274);
    C_275 := algebra.likesubselect(X_68,C_79,"%BRASS","",false);
    (C_70,r1_83) := sql.bind(X_4,"sys","part","p_type",2);
    C_276 := algebra.likesubselect(r1_83,nil:bat[:oid],"%BRASS","",false);
    X_72:bat[:str] := sql.bind(X_4,"sys","part","p_type",1);
    C_277 := algebra.likesubselect(X_72,C_79,"%BRASS","",false);
    C_80 := sql.subdelta(C_275,C_79,C_70,C_276,C_277);
    (X_81,r1_105) := algebra.subjoin(X_65,C_80,nil:BAT,nil:BAT,false,nil:lng);
    X_83 := algebra.projection(X_81,X_50);
    (X_84,r1_119) := algebra.subjoin(X_83,C_32,nil:BAT,nil:BAT,false,nil:lng);
    X_86 := algebra.projection(r1_119,X_39);
    (X_87,r1_130) := algebra.subjoin(X_86,C_5,nil:BAT,nil:BAT,false,nil:lng);
    X_89 := algebra.projection(r1_130,X_16);
    (X_90,r1_153) := algebra.subjoin(X_89,C_24,nil:BAT,nil:BAT,false,nil:lng);
    X_92:bat[:int] := sql.bind(X_4,"sys","part","p_partkey",0);
    (C_94,r1_160) := sql.bind(X_4,"sys","part","p_partkey",2);
    X_96:bat[:int] := sql.bind(X_4,"sys","part","p_partkey",1);
    X_97 := sql.projectdelta(C_80,X_92,C_94,r1_160,X_96);
    X_98:bat[:int] := algebra.projectionpath(X_90,X_87,X_84,r1_105,X_97);
    (X_99,r1_170) := algebra.subjoin(X_59,X_98,nil:BAT,nil:BAT,false,nil:lng);
    X_101:bat[:oid] := batcalc.identity(X_98);
    X_102 := algebra.projection(r1_170,X_101);
    (X_103,r1_176,r2_176) := group.subgroupdone(X_102);
    X_106:bat[:lng] := sql.bind(X_4,"sys","partsupp","ps_supplycost",0);
    (C_108,r1_181) := sql.bind(X_4,"sys","partsupp","ps_supplycost",2);
    X_110:bat[:lng] := sql.bind(X_4,"sys","partsupp","ps_supplycost",1);
    X_111 := sql.projectdelta(C_43,X_106,C_108,r1_181,X_110);
    X_112:bat[:lng] := algebra.projectionpath(r1_176,r1_170,X_90,X_87,X_84,X_81,X_111);
    X_113:bat[:lng] := algebra.projectionpath(X_99,r1_61,X_111);
    X_114:bat[:lng] := aggr.submin(X_113,X_103,r1_176,true);
    X_115:bat[:bit] := batcalc.==(X_112,X_114);
    C_116 := algebra.subselect(X_115,true,true,true,true,false);
    X_117:bat[:int] := algebra.projectionpath(C_116,r1_176,r1_170,X_98);
    X_118:bat[:str] := sql.bind(X_4,"sys","supplier","s_name",0);
    (C_120,r1_211) := sql.bind(X_4,"sys","supplier","s_name",2);
    X_122:bat[:str] := sql.bind(X_4,"sys","supplier","s_name",1);
    X_123 := sql.projectdelta(C_32,X_118,C_120,r1_211,X_122);
    X_124:bat[:str] := algebra.projectionpath(C_116,r1_176,r1_170,X_90,X_87,r1_119,X_123);
    X_125:bat[:str] := sql.bind(X_4,"sys","nation","n_name",0);
    (C_127,r1_224) := sql.bind(X_4,"sys","nation","n_name",2);
    X_129:bat[:str] := sql.bind(X_4,"sys","nation","n_name",1);
    X_130 := sql.projectdelta(C_5,X_125,C_127,r1_224,X_129);
    X_131:bat[:str] := algebra.projectionpath(C_116,r1_176,r1_170,X_90,r1_130,X_130);
    X_132:bat[:lng] := sql.bind(X_4,"sys","supplier","s_acctbal",0);
    (C_134,r1_236) := sql.bind(X_4,"sys","supplier","s_acctbal",2);
    X_136:bat[:lng] := sql.bind(X_4,"sys","supplier","s_acctbal",1);
    X_137 := sql.projectdelta(C_32,X_132,C_134,r1_236,X_136);
    X_138:bat[:lng] := algebra.projectionpath(C_116,r1_176,r1_170,X_90,X_87,r1_119,X_137);
    X_170:bat[:str] := sql.bind(X_4,"sys","part","p_mfgr",0);
    (C_172,r1_302) := sql.bind(X_4,"sys","part","p_mfgr",2);
    X_174:bat[:str] := sql.bind(X_4,"sys","part","p_mfgr",1);
    X_175 := sql.projectdelta(C_80,X_170,C_172,r1_302,X_174);
    (C_141,r1_252) := algebra.firstn(X_138,100,false,false);
    (C_143,r1_258) := algebra.firstn(X_131,C_141,r1_252,100,true,false);
    (C_145,r1_263) := algebra.firstn(X_124,C_143,r1_258,100,true,false);
    C_147 := algebra.firstn(X_117,C_145,r1_263,100,true,false);
    X_148 := algebra.projection(C_147,X_117);
    X_149 := algebra.projection(C_147,X_124);
    X_150 := algebra.projection(C_147,X_131);
    X_151 := algebra.projection(C_147,X_138);
    (X_152,r1_272,r2_272) := algebra.subsort(X_151,true,false);
    (X_155,r1_275,r2_275) := algebra.subsort(X_150,r1_272,r2_272,false,false);
    (X_158,r1_278,r2_278) := algebra.subsort(X_149,r1_275,r2_275,false,false);
    (X_161,r1_281,r2_281) := algebra.subsort(X_148,r1_278,r2_278,false,false);
    X_164 := algebra.projection(r1_281,X_151);
    X_165 := algebra.subslice(X_164,0,99:wrd);
    X_176:bat[:str] := algebra.projectionpath(X_165,r1_281,C_147,C_116,r1_176,r1_170,X_90,X_87,X_84,r1_105,X_175);
    X_177:bat[:str] := sql.bind(X_4,"sys","supplier","s_address",0);
    (C_179,r1_320) := sql.bind(X_4,"sys","supplier","s_address",2);
    X_181:bat[:str] := sql.bind(X_4,"sys","supplier","s_address",1);
    X_182 := sql.projectdelta(C_32,X_177,C_179,r1_320,X_181);
    X_183:bat[:str] := algebra.projectionpath(X_165,r1_281,C_147,C_116,r1_176,r1_170,X_90,X_87,r1_119,X_182);
    X_184:bat[:str] := sql.bind(X_4,"sys","supplier","s_phone",0);
    (C_186,r1_336) := sql.bind(X_4,"sys","supplier","s_phone",2);
    X_188:bat[:str] := sql.bind(X_4,"sys","supplier","s_phone",1);
    X_189 := sql.projectdelta(C_32,X_184,C_186,r1_336,X_188);
    X_190:bat[:str] := algebra.projectionpath(X_165,r1_281,C_147,C_116,r1_176,r1_170,X_90,X_87,r1_119,X_189);
    X_191:bat[:str] := sql.bind(X_4,"sys","supplier","s_comment",0);
    (C_193,r1_352) := sql.bind(X_4,"sys","supplier","s_comment",2);
    X_195:bat[:str] := sql.bind(X_4,"sys","supplier","s_comment",1);
    X_196 := sql.projectdelta(C_32,X_191,C_193,r1_352,X_195);
    X_197:bat[:str] := algebra.projectionpath(X_165,r1_281,C_147,C_116,r1_176,r1_170,X_90,X_87,r1_119,X_196);
    X_166 := algebra.projection(X_165,X_164);
    X_167:bat[:str] := algebra.projectionpath(X_165,r1_281,X_149);
    X_168:bat[:str] := algebra.projectionpath(X_165,r1_281,X_150);
    X_169:bat[:int] := algebra.projectionpath(X_165,r1_281,X_148);
    sql.resultSet(X_252,X_253,X_254,X_255,X_257,X_166,X_167,X_168,X_169,X_176,X_183,X_190,X_197);
end user.s2_1;

# 22:53:25 >  
# 22:53:25 >  "Done."
# 22:53:25 >  

