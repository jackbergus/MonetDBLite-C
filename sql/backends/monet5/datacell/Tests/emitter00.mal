#A single thread for a simple stream
#The test is based on the definition the datacell baskets X 
# it starts a receptor in debug mode to see arrivals coming
# from a (client) sensor.

sql.init();

basket.register("datacell","y");
emitter.start("datacell","y","localhost",50502,"active");
io.print("emitter working");
alarm.sleep(5);
emitter.pause("datacell","y");
io.print("emitter paused");
alarm.sleep(5);
emitter.resume("datacell","y");
io.print("emitter restarted");
alarm.sleep(5);
emitter.pause("datacell","y");
io.print("emitter stopped");
emitter.dump();
emitter.drop("datacell","y");

# The SQL equivalents
# call datacell.basket('datacell','y);
# call datacell.emitter('datacell','y','localhost',50502,'active');
# call datacell.pause('datacell','y');
# call datacell.resume('datacell','y');
# call datacell.drop('datacell','y');
