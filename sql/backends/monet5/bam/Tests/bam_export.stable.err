stderr of test 'bam_export` in directory 'sql/backends/monet5/bam` itself:


# 13:29:51 >  
# 13:29:51 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "mapi_open=true" "--set" "mapi_port=37021" "--set" "mapi_usock=/var/tmp/mtest-21062/.s.monetdb.37021" "--set" "monet_prompt=" "--forcemito" "--set" "mal_listing=2" "--dbpath=/home/robin/MonetDB/PREFIX/var/MonetDB/mTests_sql_backends_monet5_bam" "--set" "mal_listing=0"
# 13:29:51 >  

# builtin opt 	gdk_dbpath = /home/robin/MonetDB/PREFIX/var/monetdb5/dbfarm/demo
# builtin opt 	gdk_debug = 0
# builtin opt 	gdk_vmtrim = no
# builtin opt 	monet_prompt = >
# builtin opt 	monet_daemon = no
# builtin opt 	mapi_port = 50000
# builtin opt 	mapi_open = false
# builtin opt 	mapi_autosense = false
# builtin opt 	sql_optimizer = default_pipe
# builtin opt 	sql_debug = 0
# cmdline opt 	gdk_nr_threads = 0
# cmdline opt 	mapi_open = true
# cmdline opt 	mapi_port = 37021
# cmdline opt 	mapi_usock = /var/tmp/mtest-21062/.s.monetdb.37021
# cmdline opt 	monet_prompt = 
# cmdline opt 	mal_listing = 2
# cmdline opt 	gdk_dbpath = /home/robin/MonetDB/PREFIX/var/MonetDB/mTests_sql_backends_monet5_bam
# cmdline opt 	mal_listing = 0
# cmdline opt 	gdk_debug = 536870922
# <bam_loader>: Loader started for 1 BAM file...
# # <bam_loader> Retrieving next file id...
# # <bam_loader> Initializing BAM wrapper for file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam'...
# open: No such file or directory
# <bam_loader> Error on processing BAM files: MALException:init_bam_wrapper:Could not initialize wrapper for BAM file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam': BAM file could not be opened
# # <bam_loader>: Loader finished processing 1 BAM file...
# # <bam_loader>: Loader started for 1 BAM file...
# # <bam_loader> Retrieving next file id...
# # <bam_loader> Initializing BAM wrapper for file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_pairwise.bam'...
# open: No such file or directory
# <bam_loader> Error on processing BAM files: MALException:init_bam_wrapper:Could not initialize wrapper for BAM file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_pairwise.bam': BAM file could not be opened
# # <bam_loader>: Loader finished processing 1 BAM file...
# 
# 13:29:51 >  
# 13:29:51 >  "/usr/bin/python2" "bam_export.SQL.py" "bam_export"
# 13:29:51 >  

MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = CALL bam_export('/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam');
ERROR = !Exporting to BAM files is not implemented yet. This is our first priority for the next release of the BAM library.
MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = CALL bam_loader_file('/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam', 0);
ERROR = !Could not initialize wrapper for BAM file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam': BAM file could not be opened
MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = SELECT qname, flag, rname, pos, mapq, cigar, rnext, pnext, tlen, seq, qual
        FROM bam.alignments_1
        EXCEPT
        SELECT qname, flag, rname, pos, mapq, cigar, rnext, pnext, tlen, seq, qual
        FROM bam.alignments_15;
ERROR = !SELECT: no such table 'alignments_15'
MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = CALL bam_export('/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_pairwise.bam');
ERROR = !Exporting to BAM files is not implemented yet. This is our first priority for the next release of the BAM library.
MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = CALL bam_loader_file('/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_pairwise.bam', 0);
ERROR = !Could not initialize wrapper for BAM file '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_pairwise.bam': BAM file could not be opened
MAPI  = (monetdb) /var/tmp/mtest-21062/.s.monetdb.37021
QUERY = SELECT qname, flag, rname, pos, mapq, cigar, rnext, pnext, tlen, seq, qual
        FROM bam.unpaired_all_alignments_3
        EXCEPT
        SELECT qname, flag, rname, pos, mapq, cigar, rnext, pnext, tlen, seq, qual
        FROM bam.alignments_16;
ERROR = !SELECT: no such table 'alignments_16'
Traceback (most recent call last):
  File "bam_export.SQL.py", line 12, in <module>
    os.remove(output_1)
OSError: [Errno 2] No such file or directory: '/home/robin/MonetDB/SOURCE/sql/backends/monet5/bam/Tests/files/out_sequential.bam'

# 13:29:52 >  
# 13:29:52 >  "Done."
# 13:29:52 >  

