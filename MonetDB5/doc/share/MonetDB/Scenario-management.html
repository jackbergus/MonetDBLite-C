<html lang="en">
<head>
<title>Scenario management - Untitled</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Untitled">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="MonetDB-Overview.html#MonetDB-Overview" title="MonetDB Overview">
<link rel="prev" href="Session-Scenarios.html#Session-Scenarios" title="Session Scenarios">
<link rel="next" href="Client-administration.html#Client-administration" title="Client administration">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents the MonetDB Version 5.0 Reference Manual

Last updated: June 5, 2006

     Copyright (C) 2000-2006 CWI

     Permission is granted to make and distribute verbatim
     copies of this manual provided the copyright notice and
     this permission notice are preserved on all copies.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
body { 
    margin: 0px;
    padding: 0px;
}
a,a:visited {
	color: #336633;
}
a:hover {
	color: #003300;
}

p,body {
    font-family: Verdana, Arial, Helvetica, sans-serif;
    text-align: justify;
    font-size: 10pt;
}

h1 {
    font-family: Verdana, Arial, Helvetica, sans-serif;
    font-size: 14pt;
    font-style: bold;
	text-align: left;
}

td,th {
    font-family: Verdana, Arial, Helvetica, sans-serif;
    font-size: 10pt;
}

div.banner {
	padding: 5px 0px 0px 5px; 
}

div.banner img {
	border: 0px;
	text-decoration: none;
}

div.topmenu {
	margin-top: -20px;
	margin-left: 166px;
	padding: 8px 5px 5px 5px;
	font-size: 8pt;
	background-color: #A9CC99;
}

div.topmenu-bottom {
	margin-top: -4px;
	margin-left: 166px;
	padding: 2px 5px;
	background-color: #BCD2ED; 
}

div.topmenu a {
	padding: 4px 5px 1px 5px;
	text-decoration: none; 
}

div.topmenu a:focus {
	background-color: #6699CC; 
}

div.topmenu a:hover {
	background-color: #5662A0; 
}

/*
span.current {
}
*/

div.topmenu span.current a {
	color: #000000;
	background-color: #BCD2ED; 
}

/* this should be inherited IMHO, but it doesn't so we just redefine it */
div.topmenu span.current a:hover {
	color: #336633;
	background-color: #BCD2ED; 
}

/*
span.submenu {
}
*/

div.topmenu span.submenu a {
	background-color: #CBEEBB;
}

/* this should be inherited IMHO, but it doesn't so we just redefine it */
div.topmenu span.submenu a:hover {
	background-color: #9FB0DB; 
}

div.topmenu span.button {
	margin: 0px 0px 0px 10px;
}

div.topmenu span.button a {
	padding: 5px 6px 1px 6px;
	color: #333333;
	background-color: #FFAC37;
}

div.topmenu span.button a:hover {
	color: #FFFFFF;
}

div.content {
	padding: 5px;
	margin-left: 166px;
	margin-right: 12%;
}

div.header {
	padding: 5px;
	margin-left: 166px;
	margin-right: 12%;
}


div.sidebar-a {
	float: left;
	width: 156px;
	padding: 5px;
	font-size: 8pt;
}

div.sidebar-b { 
	float: right;
	width: 146px;
	margin: 0px 0px 0px 5px;
	padding: 5px;
	font-size: 8pt;
}

div.footer-a {
	float: left;
	width: 156px;
	margin: 5px 0px 0px 0px;
	padding: 5px;
	font-size: 7pt;
	background-color: #CBEEBB;
}

div.footer-a a {
	margin: 5px;
	text-decoration: none; 
}

div.footer-b {
	margin: 5px 0px 0px 0px;
	padding: 5px;
	background-color: #A9CC99;
	font-size: 7pt;
}

div.footer-b a {
	margin: 5px;
	padding: 2px 3px;
	text-decoration: none; 
}
div.footer-b a:focus {
	background-color: #6699CC; 
}
div.footer-b a:hover {
	color: #FFFFFF;
	background-color: #5662A0; 
}
div.footer-b img {
	border: 0px;
	vertical-align: bottom;
	text-decoration: none; 
}

div.news {
	border: 1px solid #666699;
	background-color: #E7E7E7; 
	margin: 3px 0px;
	padding: 5px 5px 5px 5px;
}

div.news li {
	list-style: square;
}

div.submenu-b {
	border: 1px solid #666699;
	background-color: #CBEEBB;
	margin: 3px 0px;
	padding: 5px 5px 5px 5px;
}

div.submenu-b a {
	text-decoration: none; 
	display: block;
	padding: 1px 2px;
	color: #000000;
	background-color: #A9CC99;
}

div.submenu-b a:hover {
	background-color: #BCD2ED; 
}

div.submenu-b ul {
	padding: 1px 0px 1px 0px;
	margin: 0px;
}

div.submenu-b li {
	list-style: none;
	padding: 1px 0px 0px 6px;
}

div.submenu {
	border: 1px solid #666699;
	background-color: #9FB0DB; 
	margin: 3px 0px;
	padding: 5px 5px 5px 5px;
}

div.submenu a {
	text-decoration: none; 
	display: block;
	padding: 1px 2px;
	_width: 100%;
}

div.submenu ul {
	padding: 1px 0px 1px 0px;
	margin: 0px;
}

div.submenu li {
	list-style: none;
	padding: 1px 0px 0px 6px;
}

div.submenu span.submenu a {
	color: #000000;
	background-color: #BCD2ED; 
}

/* this should be inherited IMHO, but it doesn't so we just redefine it */
div.submenu span.submenu a:hover {
	background-color: #A9CC99;
}

div.submenu span.current a {
	background-color: #CBEEBB;
}

/* this should be inherited IMHO, but it doesn't so we just redefine it */
div.submenu span.current a:hover {
	background-color: #CBEEBB;
}

pre.code {
	border: 1px solid Black;
	padding: 4px;
	font-family: monospace;
}
.authors {
	font-size: smaller;
	font-style: italic;
}
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Scenario-management"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Client-administration.html#Client-administration">Client administration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Session-Scenarios.html#Session-Scenarios">Session Scenarios</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="MonetDB-Overview.html#MonetDB-Overview">MonetDB Overview</a>
<hr>
</div>

<h4 class="subsection">2.4.1 Scenario management</h4>

<p>Scenarios are captured in modules; they can be dynamically loaded
and remain active until the system is brought to a halt. 
The first time a scenario is used, the system looks for a scenario
initialization routine <code>XYZinitSystem()</code> and executes it. 
It is typically used to prepare the server for language specific interactions. 
Thereafter its components are set to those required by
the scenario (e.g. "SQL") and the client initialization takes place.

   <p>When the last user interested in a particular scenario leaves the
scene, we activate its finalization routine calling <code>XYZexitSystem()</code>. 
It typically perform cleanup, backup and monitoring functions.

   <p>A scenario is interpreted in a strictly linear fashion,
i.e. performing a symbolic optimization after a parallelization
is not permitted. The routines associated with each state in
the scenario may patch the code so as to assure that subsequent
execution can use a different scenario, e.g. to handle dynamic
code fragments.

   <p>The state of execution is maintained in the scenario record for
each individual client. Sharing this information between clients
should be dealt with in the implementation of the scenario managers. 
Upon need, the client can postpone a session scenario by
pushing a new one(language, optimize, tactic,
processor). Propagation of the state information is
encapsulated a scenario2scenario() call. Not all transformations
may be legal.

<pre class="example"></pre>
   <p>The building blocks of scenarios are routines obeying a strict
name signature. They require exclusive access to the client
record. Any specific information should be accessible from
there, e.g. access to a scenario specific state descriptor. 
The client scenario initialization and finalization brackets
are  <code>XYZinitClient()</code> and <code>XYZexitClient()</code>.

   <p>The <code>XYZparser(Client c)</code> contains the parser for language XYZ
and should fill the mal program block associated with the client record. 
The latter may have been initialized with variables. 
Each language parser may require a catalog with information
on the translation of language specific datastructures into their BAT
equivalent.

   <p>The <code>XYZoptimizer(Client c)</code> contains language specific optimizations
using the MAL intermediate code as a starting point.

   <p>The <code>XYZtactics(Client c)</code> synchronizes the program execution with the
state of the machine, e.g. claiming resources, the history of the client
or alignment of the request with concurrent actions (e.g. transaction
coordination).

   <p>The <code>XYZengine(Client c)</code> contains the applicable back-end engine. 
The default is the MAL interpreter, which provides good balance
between speed and ability to analysis its behavior.

<ul class="menu">
<li><a accesskey="1" href="Scenario-management.html#Scenario-management">Scenario management</a>
<li><a accesskey="2" href="Client-administration.html#Client-administration">Client administration</a>
<li><a accesskey="3" href="Session-Scenarios.html#Session-Scenarios">Session Scenarios</a>
</ul>

   </body></html>

