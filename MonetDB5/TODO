# TODO for MonetDB Server 5
# This file is provided AS-IS, no claims can be made based upon this
# file.
# Please don't remove entries from this file.  It functions as base for
# a Changelog.  It's format is like a Changelog, and the newest items
# are on top.  Please keep the status of items up-to-date, e.g. OPEN,
# DONE, PARTIAL.
# Please append the date at each state change.
deal with the NIL values in url.

*MonetDB 5.8 (Spring 2008)

  23 Jul 2006; Martin Kersten <mlkersten>; OPEN
  The X100 subsystem with its buffer manager and
  compression scheme is integrated in the software stack.

*MonetDB 5.4 (Spring 2008)

  23 Jul 2006; Martin Kersten <mlkersten>; OPEN
  XQuery/XUpdate is ported to MonetDB Version 5 using
  Pathfinder compiler and algebraic optimizer.
  The main bottleneck is the translation of the MIL 
  procedures into MAL.

*MonetDB 5.2 (May 2007)

  23 Jul 2006; Romulo Concalves <romulog>; OPEN
  The system supports remote materialized SQL views
  with an efficient push/pull update strategy.
  The MAL plans are translated by the mal_remoteQueries
  optimizer into local/remote calls, minimizing the 
  amount of data traffic.

  25 Apr 2007; Martin Kersten <mlkersten>; CLOSED
  The interpreter has become poluted with extra
  property setting. This should be moved to
  the operations to avoid binding overhead.
  Interpreter is split into a fast/slow mode.

  20 Apr 2007; Martin Kersten <mlkersten>; OPEN
  The locking information in the kernel can be used
  to make all BATs private to their processing thread.
  This will improve concurrent processing.

  10 Apr 2007; Martin Kersten <mlkersten>; OPEN
  Implement the remote call scheme using mod.fcn@site
  and mod@site.fcn

  10 Apr 2007; Martin Kersten <mlkersten>; OPEN
  Support module cloning as a basis for better re-use.

  13 Sep 2007; Martin Kersten <mlkersten>; CLOSED
  Command completion on the server console has been
  completed.

  1 Sep 2007; Martin Kersten <mlkersten>; CLOSED
  Rendering of output in mclient has been extended
  to include tabular format.

  1 Sep 2007; Martin Kersten <mlkersten>; CLOSED
  The storage requirements of MAL instructions has been
  reduced.

  8 Apr 2007; Martin Kersten <mlkersten>; CLOSED
  Continous queries are MAL programs run in parallel
  with the mainstream interface. They share the output
  channel until it is redirected.

  8 Apr 2007; Martin Kersten <mlkersten>; CLOSED
  Move all sql cached queries into the default session
  container for MAL blocks.

  7 Mar 2007; Martin Kersten <mlkersten>; CLOSED
  Patterns with a polymorphic argument lists are
  properly resolved now.

  5 Mar 2007; Martin Kersten <mlkersten>; OPEN
  Make it possible to attach a MAL debugger to
  any running client process. Needs proper switching
  of the IO descriptors (in the context of mclients)

  7 Mar 2007; Martin Kersten <mlkersten>; OPEN
  Create a java gui version of the stethoscope
  based on tuple streams. Solve filtering.

  3 Mar 2007; Martin Kersten <mlkersten>; CLOSED
  Extend performance monitoring to capture rd/wr
  descriptors, monitor BBP diskspace, and BAT oriented
  counters. Created stethoscope to monitor a running
  server.

  18 Jan 2007; Martin Kersten <mlkersten>; OPEN
  Empty set and join select optimizers are disabled
  due to errors in the plan, as signalled by trigger tests.

  12 Jan 2007; Martin Kersten <mlkersten>; OPEN
  Introduce the notion of module boxes as the equivalent of
  globally scoped variables. 

  3 Feb 2007; Martin Kersten <mlkersten>/Milena Ivanova; OPEN
  The partitioned BATs module is revived to provide
  both range- and hash-based partitioning. The target
  is to adapt while processing using performance data gathered.

*MonetDB 5.0 (Dec 2006)
  27 Dec 2006; Martin Kersten <mlkersten>; OPEN
  double check batstr when it produces str results using match.

  21 Dec 2006; Martin Kersten <mlkersten>; OPEN
  Drop :bat[:void,...] in favor of :bat[:oid{dense,base=0@0},...]
  It dissects type information from runtime properties.
  Change redering of values in GDK to not avoid decimal dots.
 
  13 Dec 2006; Martin Kersten <mlkersten>; CLOSED
  Resolved errors in flow checking and the optimizer.

  10 Dec 2006; Fabian Groffen ; CLOSED
  Stratified exception handling syntax.

  9 Dec 2006; Martin Kersten <mlkersten>; CLOSED
  The SQL optimizer allows for a better control
  over the optimizer sequence.

  4 Dec 2006; Martin Kersten <mlkersten>; CLOSED
  Removed M4 legacy from the code base. Reduced
  the use of GDK error flags, replacing them with
  exceptions. Used void returns to mark unsafe functions.

  1 Dec  2006; Niels Nes ; CLOSED
  Moving all documentation to the centralized website
  repository.

  25 Nov 2006; Martin Kersten <mlkersten>; CLOSED
  The MAL blocks are extended with a history of the
  optimizer results. This affects the functionality
  of the debugger.

  23 Nov 2006: Fabian Groffen ; CLOSED
  Mapi protocol has been updated to reduce handshaking
  overhead.

  20 Nov 2006; Martin Kersten <mlkersten>; CLOSED
  The hack to mask a void to oid type transition in
  the emptySet optimizer has been replaced by a 
  mechanism to type re-solve a MAL block after throwing
  away all non-constant and user-specified type qualifiers.

  20 Nov 2006; Martin Kersten <mlkersten>; CLOSED
  The MAL debugger has been extended with the option
  to generate 'dot' files for graphical display of
  the query plans.

  15 Nov 2006;Martin Kersten <mlkersten>;CLOSED
  The bulk loading scheme has been improved.

  10  Nov 2006; Martin Kersten <mlkersten>;CLOSED
  Garbage collection has been extended with an aggressive
  drop of auxilary hash tables. This avoids writes to
  disk in a memory constraint environment.

  2 Nov 2006; Sjoerd Mullender; CLOSED
  Code cleanup to enable a Windows compilation again.

  31 Oct 2006;Martin Kersten <mlkersten>;CLOSED
  Performance enhancements in the multiplex primitives.
  Solving problems in running larger TPC-H benchmarks.

  1 Oct 2006; Martin Kersten <mlkersten>;CLOSED
  The emptySet, accumulator and joinpath optimizers
  have been integrated with the SQL front-end.

  1 Sep 2006; Martin Kersten <mlkersten>;CLOSED
  Reduced the complexity of optimizers, turning
  them into a single scan over the program.

  28 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  Storing BATs in BATs was not allowed by the
  type resolver. It required an explicit cast to
  :bat, which is distinct from :bat[:any_1,:any_2]
  It is now properly handled

  22 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  Look into the sorting order of inspect05

  18 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  Reference counting BATs is incorrect. It did not
  properly reduce the reference for BAT arguments
  leaving a function call. Collatoral issues,
  deal with proper reference counting in factories,
  and handle BAT id management.

  11 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  The naming of optimizer modules have been stratisfied
  and files are moved to a more appropriate place.
  Code factorization reduced the source code to be
  maintained.

  04 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  Handling of MAL include files is simplified and
  separated from evaluation of a MAL file.

  04 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  The MAL interpreter has been extended with the
  facility to check BAT properties (using debug=10).
  Several property propagation issues were resolved.

  03 Aug 2006; Martin Kersten <mlkersten>;CLOSED
  The time tracing also supports IO and Memory
  tracing. It helps in finding expensive actions.

  31 Jul 2006; Martin Kersten <mlkersten>; OPEN
  The emptySet optimizer has been extended to
  not only mark statements to ignore, but also
  to pass around empty BATs.

  30 Jul 2006; Martin Kersten <mlkersten>; OPEN
  The test set has been extended with the gdk tests.
  The coercions of scalar values have been brought
  in sink with previous versions.

  30 Jul 2006; Martin Kersten <mlkersten>; CLOSED
  The optimizer toolkit is extended with mal_cascade,
  a scheme to perform select range propagation over 
  a MAL block. This code is of great importance in 
  optimization of fragmented tables.

  23 Jul 2006; Martin Kersten <mlkersten>; CLOSED
  Calls to MAL functions tagged with the property {inline}
  or their primary target variable tagged with {inline}
  are processed by the optimizer.inliner(), which
  replaces the call by the function body.
  Note, it is an illustrative module, because a direct
  call to the optimizer.macro() with the function name
  to be inlined has the same effect.

  23 Jul 2006; Martin Kersten <mlkersten>; OPEN
  The program mclient uses a history file, named
  .mapiclient_history, which lives in the home
  directory of the user. Readline commands can be
  used to browse and re-use it.

  23 Jul 2006; Fabian Groffen <mr-meltdown>; CLOSED
  Client programs can access any MonetDB server at
  the target site and will be re-directed to the
  server in charge of managing the database of interest.

  23 Jul 2006; Martin Kersten <mlkersten>; OPEN
  Miscellaneous stuff, to be sorted out.
  We limit BAT* operation as much as possible to :void headed versions.
  All unsafe signatures should be tagged to facilitate flow analysis.
  BBP should become a fully serialized module, encapsulation with a single
  lock (this calls for check for IO triggered activities inside BBP). 
  All BATs should be considered private unless otherwise marked (add
  BATshared())
  ATOMcmp should not walk the storage field, this should be
  made explicit if needed.
  Make sure BAT producing operations leave them as readonly behind.
  Naming conventions get/set properties.
  [ht]operation convention or operation[ht]_[ht].
  BATs entered into a box should become persistent? (tst1004,1005,1014).
  Use a process buffer pool to avoid expensive client starts.
  Let modules define theire throwable exceptions, which
  are included in the caller environment.
