stdout of test 'ID.642351` in directory 'monetdb5/tests/BugsViaSourgeforce` itself:


# 17:33:35 >  
# 17:33:35 >  Mtimeout -timeout 60 Mserver "--config=/var/tmp/_PREFIX_MONET_GNU_32_d_--enable-optimize_/etc/monet.conf" --debug=10 --set "monet_mod_path=/var/tmp/_PREFIX_MONET_GNU_32_d_--enable-optimize_/lib/MonetDB" --dbfarm "/var/tmp/_PREFIX_MONET_GNU_32_d_--enable-optimize_/var/dbfarm" --set monet_prompt= --trace --dbname=mTests_tests_BugsViaSourgeforce  < ID.642351.milS
# 17:33:35 >  

# Monet Database Server V4.3.7
# Copyright (c) 1993-2002, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.

# Date:		2002-11-22 17:08
# Category: 	None
# Group: 	None
# Status: 	Open
# Resolution: 	None
# Priority: 	5
# Submitted By: Maurice van Keulen (mvankeulen)
# Assigned to: 	Nobody/Anonymous (nobody)
# Summary: 	Bug in kintersect
# 
# Initial Comment:
# Sporadically, a bug in "kintersect" is haunting me. The
# result of the operation is not correct. I finally
# managed to construct an example that reproduces the
# bug. The attached file contains two exported bats and a
# small script that imports them and performs a
# kintersect. The result should be empty, but somehow one
# element ends up in the result anyway. To make the bug
# visible, I try to look up the elements of the result in
# one of the operands of kintersect. Since it is an
# intersection, those values should always be there,
# shouldn't they?

module("unix","ascii_io");
var TTD := getenv("TSTTRGDIR");

var b:=new(oid,str);
b.import(TTD + "/ID.642351.b.txt");
b.print();
#---------------------------------#
# BAT:	  tmp_27		  #
# (oid)	  (str)			  #
#---------------------------------#
[ 7@0,	  "item0"		  ]
[ 46@0,	  "category0"		  ]
[ 49@0,	  "category0"		  ]
[ 52@0,	  "category0"		  ]
[ 55@0,	  "category0"		  ]
[ 58@0,	  "category0"		  ]
[ 86@0,	  "item1"		  ]
[ 113@0,  "category0"		  ]
[ 116@0,  "category0"		  ]
[ 119@0,  "category0"		  ]
[ 122@0,  "category0"		  ]
[ 125@0,  "category0"		  ]
[ 128@0,  "category0"		  ]
[ 171@0,  "item2"		  ]
[ 287@0,  "category0"		  ]
[ 290@0,  "category0"		  ]
[ 315@0,  "item3"		  ]
[ 363@0,  "category0"		  ]
[ 366@0,  "category0"		  ]
[ 369@0,  "category0"		  ]
[ 372@0,  "category0"		  ]
[ 375@0,  "category0"		  ]
[ 378@0,  "category0"		  ]
[ 381@0,  "category0"		  ]
[ 384@0,  "category0"		  ]
[ 391@0,  "item4"		  ]
[ 414@0,  "category0"		  ]
[ 448@0,  "item5"		  ]
[ 471@0,  "category0"		  ]
[ 474@0,  "category0"		  ]
[ 505@0,  "item6"		  ]
[ 553@0,  "category0"		  ]
[ 556@0,  "category0"		  ]
[ 578@0,  "item7"		  ]
[ 632@0,  "category0"		  ]
[ 635@0,  "category0"		  ]
[ 638@0,  "category0"		  ]
[ 641@0,  "category0"		  ]
[ 684@0,  "item8"		  ]
[ 717@0,  "category0"		  ]
[ 742@0,  "item9"		  ]
[ 778@0,  "category0"		  ]
[ 818@0,  "item10"		  ]
[ 842@0,  "category0"		  ]
[ 845@0,  "category0"		  ]
[ 888@0,  "item11"		  ]
[ 915@0,  "category0"		  ]
[ 918@0,  "category0"		  ]
[ 940@0,  "item12"		  ]
[ 964@0,  "category0"		  ]
[ 967@0,  "category0"		  ]
[ 974@0,  "item13"		  ]
[ 1004@0, "category0"		  ]
[ 1007@0, "category0"		  ]
[ 1014@0, "item14"		  ]
[ 1074@0, "category0"		  ]
[ 1126@0, "item15"		  ]
[ 1150@0, "category0"		  ]
[ 1153@0, "category0"		  ]
[ 1160@0, "item16"		  ]
[ 1205@0, "category0"		  ]
[ 1208@0, "category0"		  ]
[ 1215@0, "item17"		  ]
[ 1245@0, "category0"		  ]
[ 1248@0, "category0"		  ]
[ 1251@0, "category0"		  ]
[ 1254@0, "category0"		  ]
[ 1257@0, "category0"		  ]
[ 1264@0, "item18"		  ]
[ 1297@0, "category0"		  ]
[ 1300@0, "category0"		  ]
[ 1303@0, "category0"		  ]
[ 1310@0, "item19"		  ]
[ 1346@0, "category0"		  ]
[ 1349@0, "category0"		  ]
[ 1352@0, "category0"		  ]
[ 1359@0, "item20"		  ]
[ 1383@0, "category0"		  ]
[ 1386@0, "category0"		  ]
[ 1389@0, "category0"		  ]
[ 1392@0, "category0"		  ]
[ 1423@0, "item21"		  ]
[ 1468@0, "category0"		  ]
[ 1471@0, "category0"		  ]
[ 1474@0, "category0"		  ]
[ 1477@0, "category0"		  ]
[ 1480@0, "category0"		  ]
[ 1530@0, "category0"		  ]
[ 1627@0, "category0"		  ]
[ 1628@0, "category0"		  ]
[ 1634@0, "person0"		  ]
[ 1661@0, "55386.86"		  ]
[ 1678@0, "person1"		  ]
[ 1716@0, "open_auction2"	  ]
[ 1719@0, "open_auction4"	  ]
[ 1722@0, "open_auction5"	  ]
[ 1725@0, "open_auction6"	  ]
[ 1728@0, "open_auction9"	  ]
[ 1731@0, "open_auction0"	  ]
[ 1736@0, "person2"		  ]
[ 1750@0, "open_auction0"	  ]
[ 1753@0, "open_auction7"	  ]
[ 1756@0, "open_auction2"	  ]
[ 1759@0, "open_auction4"	  ]
[ 1764@0, "person3"		  ]
[ 1773@0, "41889.41"		  ]
[ 1776@0, "category0"		  ]
[ 1779@0, "category0"		  ]
[ 1797@0, "open_auction6"	  ]
[ 1800@0, "open_auction10"	  ]
[ 1803@0, "open_auction2"	  ]
[ 1806@0, "open_auction6"	  ]
[ 1809@0, "open_auction5"	  ]
[ 1814@0, "person4"		  ]
[ 1829@0, "9876.00"		  ]
[ 1832@0, "category0"		  ]
[ 1835@0, "category0"		  ]
[ 1838@0, "category0"		  ]
[ 1841@0, "category0"		  ]
[ 1844@0, "category0"		  ]
[ 1847@0, "category0"		  ]
[ 1861@0, "person5"		  ]
[ 1880@0, "person6"		  ]
[ 1899@0, "person7"		  ]
[ 1928@0, "open_auction10"	  ]
[ 1931@0, "open_auction6"	  ]
[ 1934@0, "open_auction7"	  ]
[ 1937@0, "open_auction6"	  ]
[ 1940@0, "open_auction10"	  ]
[ 1945@0, "person8"		  ]
[ 1980@0, "open_auction2"	  ]
[ 1983@0, "open_auction7"	  ]
[ 1986@0, "open_auction8"	  ]
[ 1989@0, "open_auction8"	  ]
[ 1992@0, "open_auction2"	  ]
[ 1997@0, "person9"		  ]
[ 2015@0, "57878.50"		  ]
[ 2018@0, "category0"		  ]
[ 2021@0, "category0"		  ]
[ 2024@0, "category0"		  ]
[ 2027@0, "category0"		  ]
[ 2030@0, "category0"		  ]
[ 2033@0, "category0"		  ]
[ 2036@0, "category0"		  ]
[ 2039@0, "category0"		  ]
[ 2042@0, "category0"		  ]
[ 2045@0, "category0"		  ]
[ 2048@0, "category0"		  ]
[ 2051@0, "category0"		  ]
[ 2062@0, "person10"		  ]
[ 2092@0, "44300.88"		  ]
[ 2095@0, "category0"		  ]
[ 2098@0, "category0"		  ]
[ 2116@0, "open_auction0"	  ]
[ 2119@0, "open_auction9"	  ]
[ 2124@0, "person11"		  ]
[ 2154@0, "33731.14"		  ]
[ 2157@0, "category0"		  ]
[ 2172@0, "open_auction3"	  ]
[ 2175@0, "open_auction7"	  ]
[ 2178@0, "open_auction0"	  ]
[ 2181@0, "open_auction1"	  ]
[ 2184@0, "open_auction8"	  ]
[ 2187@0, "open_auction0"	  ]
[ 2190@0, "open_auction9"	  ]
[ 2195@0, "person12"		  ]
[ 2231@0, "43552.04"		  ]
[ 2234@0, "category0"		  ]
[ 2245@0, "person13"		  ]
[ 2257@0, "41407.27"		  ]
[ 2260@0, "category0"		  ]
[ 2263@0, "category0"		  ]
[ 2266@0, "category0"		  ]
[ 2269@0, "category0"		  ]
[ 2284@0, "open_auction7"	  ]
[ 2289@0, "person14"		  ]
[ 2319@0, "53231.89"		  ]
[ 2322@0, "category0"		  ]
[ 2336@0, "person15"		  ]
[ 2365@0, "open_auction9"	  ]
[ 2368@0, "open_auction1"	  ]
[ 2371@0, "open_auction2"	  ]
[ 2374@0, "open_auction6"	  ]
[ 2377@0, "open_auction8"	  ]
[ 2380@0, "open_auction8"	  ]
[ 2385@0, "person16"		  ]
[ 2415@0, "26302.86"		  ]
[ 2418@0, "category0"		  ]
[ 2421@0, "category0"		  ]
[ 2424@0, "category0"		  ]
[ 2435@0, "person17"		  ]
[ 2448@0, "person18"		  ]
[ 2463@0, "32624.17"		  ]
[ 2466@0, "category0"		  ]
[ 2477@0, "person19"		  ]
[ 2509@0, "open_auction8"	  ]
[ 2514@0, "person20"		  ]
[ 2545@0, "person21"		  ]
[ 2556@0, "open_auction3"	  ]
[ 2559@0, "open_auction9"	  ]
[ 2562@0, "open_auction0"	  ]
[ 2565@0, "open_auction6"	  ]
[ 2568@0, "open_auction6"	  ]
[ 2571@0, "open_auction2"	  ]
[ 2576@0, "person22"		  ]
[ 2592@0, "person23"		  ]
[ 2609@0, "open_auction6"	  ]
[ 2612@0, "open_auction4"	  ]
[ 2617@0, "person24"		  ]
[ 2636@0, "open_auction0"	  ]
[ 2653@0, "person0"		  ]
[ 2668@0, "person23"		  ]
[ 2683@0, "person14"		  ]
[ 2698@0, "person16"		  ]
[ 2711@0, "item0"		  ]
[ 2714@0, "person11"		  ]
[ 2719@0, "person10"		  ]
[ 2823@0, "open_auction1"	  ]
[ 2840@0, "person20"		  ]
[ 2855@0, "person4"		  ]
[ 2870@0, "person23"		  ]
[ 2885@0, "person19"		  ]
[ 2900@0, "person15"		  ]
[ 2915@0, "person9"		  ]
[ 2930@0, "person5"		  ]
[ 2940@0, "item2"		  ]
[ 2943@0, "person10"		  ]
[ 2948@0, "person7"		  ]
[ 3076@0, "open_auction2"	  ]
[ 3090@0, "person5"		  ]
[ 3103@0, "item3"		  ]
[ 3106@0, "person11"		  ]
[ 3111@0, "person9"		  ]
[ 3143@0, "open_auction3"	  ]
[ 3157@0, "person8"		  ]
[ 3172@0, "person22"		  ]
[ 3187@0, "person19"		  ]
[ 3202@0, "person5"		  ]
[ 3217@0, "person23"		  ]
[ 3232@0, "person20"		  ]
[ 3242@0, "item5"		  ]
[ 3245@0, "person13"		  ]
[ 3250@0, "person20"		  ]
[ 3333@0, "open_auction4"	  ]
[ 3350@0, "person7"		  ]
[ 3365@0, "person8"		  ]
[ 3380@0, "person8"		  ]
[ 3395@0, "person5"		  ]
[ 3410@0, "person21"		  ]
[ 3425@0, "person1"		  ]
[ 3440@0, "person16"		  ]
[ 3455@0, "person10"		  ]
[ 3470@0, "person17"		  ]
[ 3485@0, "person12"		  ]
[ 3498@0, "item7"		  ]
[ 3501@0, "person11"		  ]
[ 3506@0, "person11"		  ]
[ 3607@0, "open_auction5"	  ]
[ 3624@0, "person15"		  ]
[ 3639@0, "person13"		  ]
[ 3654@0, "person17"		  ]
[ 3667@0, "item9"		  ]
[ 3670@0, "person7"		  ]
[ 3675@0, "person6"		  ]
[ 3710@0, "open_auction6"	  ]
[ 3724@0, "person1"		  ]
[ 3737@0, "item10"		  ]
[ 3740@0, "person14"		  ]
[ 3745@0, "person23"		  ]
[ 3777@0, "open_auction7"	  ]
[ 3794@0, "person16"		  ]
[ 3809@0, "person14"		  ]
[ 3824@0, "person23"		  ]
[ 3837@0, "item12"		  ]
[ 3840@0, "person16"		  ]
[ 3845@0, "person5"		  ]
[ 3976@0, "open_auction8"	  ]
[ 3990@0, "person12"		  ]
[ 4000@0, "item13"		  ]
[ 4003@0, "person12"		  ]
[ 4008@0, "person6"		  ]
[ 4139@0, "open_auction9"	  ]
[ 4153@0, "person22"		  ]
[ 4168@0, "person19"		  ]
[ 4183@0, "person11"		  ]
[ 4198@0, "person7"		  ]
[ 4213@0, "person16"		  ]
[ 4228@0, "person23"		  ]
[ 4243@0, "person13"		  ]
[ 4258@0, "person21"		  ]
[ 4273@0, "person14"		  ]
[ 4288@0, "person7"		  ]
[ 4303@0, "person2"		  ]
[ 4318@0, "person13"		  ]
[ 4328@0, "item14"		  ]
[ 4331@0, "person10"		  ]
[ 4336@0, "person11"		  ]
[ 4383@0, "open_auction10"	  ]
[ 4397@0, "person23"		  ]
[ 4412@0, "person3"		  ]
[ 4427@0, "person1"		  ]
[ 4442@0, "person3"		  ]
[ 4457@0, "person0"		  ]
[ 4472@0, "person23"		  ]
[ 4487@0, "person6"		  ]
[ 4502@0, "person4"		  ]
[ 4517@0, "person21"		  ]
[ 4530@0, "item16"		  ]
[ 4533@0, "person8"		  ]
[ 4538@0, "person7"		  ]
[ 4570@0, "open_auction11"	  ]
[ 4587@0, "person1"		  ]
[ 4602@0, "person3"		  ]
[ 4617@0, "person4"		  ]
[ 4627@0, "item17"		  ]
[ 4630@0, "person12"		  ]
[ 4635@0, "person2"		  ]
[ 4669@0, "person15"		  ]
[ 4672@0, "person10"		  ]
[ 4675@0, "item1"		  ]
[ 4692@0, "person12"		  ]
[ 4762@0, "person10"		  ]
[ 4765@0, "person12"		  ]
[ 4768@0, "item4"		  ]
[ 4785@0, "person22"		  ]
[ 4828@0, "person8"		  ]
[ 4831@0, "person11"		  ]
[ 4834@0, "item6"		  ]
[ 4851@0, "person17"		  ]
[ 4879@0, "person12"		  ]
[ 4882@0, "person14"		  ]
[ 4885@0, "item8"		  ]
[ 4902@0, "person0"		  ]
[ 4942@0, "person12"		  ]
[ 4945@0, "person14"		  ]
[ 4948@0, "item11"		  ]
[ 4965@0, "person6"		  ]
[ 5008@0, "person12"		  ]
[ 5011@0, "person12"		  ]
[ 5014@0, "item15"		  ]
[ 5031@0, "person7"		  ]
[ 5080@0, "person14"		  ]
[ 5083@0, "person8"		  ]
[ 5086@0, "item18"		  ]
[ 5103@0, "person3"		  ]
[ 5119@0, "person5"		  ]
[ 5122@0, "person17"		  ]
[ 5125@0, "item19"		  ]
[ 5142@0, "person2"		  ]
[ 5164@0, "person6"		  ]
[ 5167@0, "person11"		  ]
[ 5170@0, "item20"		  ]
[ 5187@0, "person16"		  ]
[ 5212@0, "person9"		  ]
[ 5215@0, "person14"		  ]
[ 5218@0, "item21"		  ]
[ 5235@0, "person0"		  ]
var c:=new(oid,oid);
c.import(TTD + "/ID.642351.c.txt");
c.print();
#-----------------#
# BAT:	  tmp_26  #
# (oid)	  (void)  #
#-----------------#
[ 4099@0, nil	  ]
[ 4100@0, nil	  ]
[ 4108@0, nil	  ]
[ 4109@0, nil	  ]
[ 4114@0, nil	  ]
var d:=c.kintersect(b);
d.print();
#-----------------#
# BAT:	  tmp_28  #
# (oid)	  (void)  #
#-----------------#
d@batloop { b.find($h).print(); }

var DBGMSK := debugmask();
debugmask(or(DBGMSK,2097152));
var e:=c.kintersect(b);
#BATsemijoin: BATbinsemijoin(l, r, l);
debugmask(DBGMSK);
e.print();
#-----------------#
# BAT:	  tmp_29  #
# (oid)	  (void)  #
#-----------------#
e@batloop { b.find($h).print(); }

# 17:33:35 >  
# 17:33:35 >  Done.
# 17:33:35 >  

