# testing subsumption optimalisation
r:= bat.new(:oid,:int);
bat.append(r,1);
bat.append(r,2);
bat.append(r,3);
bat.append(r,4);
s:= algebra.subselect(r,0,5,true,true,false);	# equal to a copy
r1:=algebra.leftfetchjoin(s,r);
io.print(r1);
t:= algebra.subselect(r,0,3,true,true,false);
#print(t);
u:= algebra.subselect(r,0,3,true,true,false);	# reuse t
r1:=algebra.leftfetchjoin(u,r);
io.print(r1);
io.print("done");
optimizer.commonTerms();
optimizer.aliases();
