# the generator optimizer
# The flow graph becomes a little more complex 
# it requires the result of the select to be accumulated
# because there is a blocking instruction inbetween
mdb.list();
	io.print("start");
	b:bat[:oid,:int]:= pbm.generator("Sales2005");
	a:bat[:oid,:int]:= pbm.generator("Areas");
	low:= 0;
	high:= 3;
	s:= algebra.select(b,low,high);
	i:= aggr.count(s);
	io.print("Result is:");
	io.print(i);
	io.print("go-on");
	t:= algebra.select(s,low,high);
	ar:= bat.reverse(a);
	j:= algebra.join(t,ar);
	c:= aggr.count(j);
	io.print(c);
	io.print("finished");
optimizer.generators();

