stdout of test 'tst4500` in directory 'src/optimizer` itself:


# 23:52:52 >  
# 23:52:52 >  Mtimeout -timeout 60 Mserver "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5/Linux/lib/MonetDB5:/ufs/mk/opensource/MonetDB/Linux/lib/MonetDB" --set "gdk_dbfarm=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/log" --set mapi_port=39352 --set sql_port=45171 --set xquery_port=52900 --set monet_prompt= --trace --dbname=mTests_src_optimizer  tst4500.mal </dev/null
# 23:52:52 >  

# Monet Database Server V4.99.19
# Copyright (c) 1993-2005, CWI. All rights reserved.
# Compiled for x86_64-redhat-linux-gnu/64bit with 32bit OIDs; dynamically linked.
# config:/ufs/mk/monet5/src/mal/Tests/All.conf
# dbfarm:/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm
# dbname:mTests_src_optimizer
# Visit http://monetdb.cwi.nl/ for further information.
## Beware this is not the correct TPC-1, but a merely a test
#optimizer.setDebug();
#optimizer.commonExpressionRemoval();
#optimizer.aliasRemoval();
#optimizer.deadCodeRemoval();
##don;t depend on SQL library
#function user.bind(s:str,t:str,c:str,i:int):bat[:any$1,:any$2];
#	myc:= bbp.bind("myc");
#	s14:bat[:void,:date] := user.bind("sys","lineitem","l_shipdate",0);
##s16 := date("1998-12-01");
#	s16 := mtime.date("1998-12-01");
##s17 := 7776000;
#	s17 := 7776000;
##s15 := date_sub_sec_interval(s16,s17);
##s13 := s14.uselect(date(nil), s15);
#	zz:= nil:str;
#	aa_a := mtime.date(zz);
#	s13 := algebra.uselect(s14,aa_a,aa_a);
##s12 := s13.reverse();
#	s12 := bat.reverse(s13,);
##s11 := s12.reverse().mark(oid(0)).reverse();# lineitem
#	ba_a := calc.oid(0);
#	ca_a := bat.reverse(s12,);
#	da_a := algebra.markT(ca_a,ba_a);
#	s11 := bat.reverse(da_a,);
##s18 := user.bind("sys",  "lineitem", "l_returnflag"); #lineitem
#	s18:bat[:void,:chr] := user.bind("sys","lineitem","l_returnflag",0);
##s10 := s11.join(s18);
#	s10 := algebra.join(s11,s18);
##s9 := s10.group();
#	(h,s9) := group.group(s10);
##s20 := user.bind("sys",  "lineitem", "l_linestatus"); #lineitem
#	s20:bat[:void,:chr] := user.bind("sys","lineitem","l_linestatus",0);
##s19 := s11.join(s20);
#	s19 := algebra.join(s11,s20);
##s8 := s9.group(s19);
#	(h2,s8) := group.group(s9,s19);
##s7 := s8.tunique().mirror();
#	ea_a := algebra.tunique(s8,);
#	s7 := bat.mirror(ea_a,);
##s6 := s7.join(s11);
#	s6 := algebra.join(s7,s11);
##s5 := s6.join(s18);
#	s5 := algebra.join(s6,s18);
##s4 := s5.reverse().sortH().reverse();
#	fa_a := bat.reverse(s5,);
#	ga_a := algebra.sortH(fa_a,);
#	s4 := bat.reverse(ga_a,);
##s22 := s7.join(s11);
#	s22 := algebra.join(s7,s11);
##s21 := s22.join(s20);
#	s21 := algebra.join(s22,s20);
##s3 := s4.CTrefine(s21);
#	s3 := group.refine(s4,s21);
##s25 := s11.join(s18);
#	s25 := algebra.join(s11,s18);
##s24 := s7.join(s25);
#	s24 := algebra.join(s7,s25);
##s27 := s11.join(s20);
#	s27 := algebra.join(s11,s20);
##s26 := s7.join(s27);
#	s26 := algebra.join(s7,s27);
##s31 := user.bind("sys",  "lineitem", "l_quantity"); #lineitem
#	s31:bat[:void,:int] := user.bind("sys","lineitem","l_quantity",0);
##s30 := s11.join(s31);
#	s30 := algebra.join(s11,s31);
##s29 := {sum}(s30, s8, s7);
#	s29 := group.sum(s30,s8);
##s35 := user.bind("sys",  "lineitem", "l_extendedprice"); #lineitem
#	s35:bat[:void,:int] := user.bind("sys","lineitem","l_extendedprice",0);
##s34 := s11.join(s35);
#	s34 := algebra.join(s11,s35);
##s33 := {sum}(s34, s8, s7);
#	s33 := group.sum(s34,s8);
##s39 := s11.join(s35);
#	s39 := algebra.join(s11,s35);
##s42 := 1;
#	s42 := 1;
##s41 := flt(s42);
#	s41 := calc.flt(s42);
##s44 := user.bind("sys",  "lineitem", "l_discount"); #lineitem
#	s44:bat[:void,:int] := user.bind("sys","lineitem","l_discount",0);
##s43 := s11.join(s44);
#	s43 := algebra.join(s11,s44);
##s45 := [s43 ~ s41];
#	ha_a:= batcalc.init(s43,s41);
#	s45 := ha_a;
##s40 := [-](s45,s43);
#	s40 := batcalc.-(s45,s43);
##s38 := [*](s39,s40);
#	s38 := batcalc.*(s39,s40);
##s37 := {sum}(s38, s8, s7);
#	s37 := group.sum(s38,s8);
##s50 := s11.join(s35);
#	s50 := algebra.join(s11,s35);
##s53 := 1;
#	s53 := 1;
##s52 := flt(s53);
#	s52 := calc.flt(s53);
##s54 := s11.join(s44);
#	s54 := algebra.join(s11,s44);
##s55 := [s54 ~ s52];
#	ia_a:= batcalc.init(s54,s52);
#	s55 := ia_a;
##s51 := [-](s55,s54);
#	s51 := batcalc.-(s55,s54);
##s49 := [*](s50,s51);
#	s49 := batcalc.*(s50,s51);
##s58 := 1;
#	s58 := 1;
##s57 := flt(s58);
#	s57 := calc.flt(s58);
##s60 := user.bind("sys",  "lineitem", "l_tax"); #lineitem
#	s60:bat[:void,:int] := user.bind("sys","lineitem","l_tax",0);
##s59 := s11.join(s60);
#	s59 := algebra.join(s11,s60);
##s61 := [s59 ~ s57];
#	ja_a:= batcalc.init(s59,s57);
#	s61 := ja_a;
##s56 := [+](s61,s59);
#	s56 := batcalc.+(s61,s59);
##s48 := [*](s49,s56);
#	s48 := batcalc.*(s49,s56);
##s47 := {sum}(s48, s8, s7);
#	s47 := group.sum(s48,s8);
##s64 := s11.join(s31);
#	s64 := algebra.join(s11,s31);
##s63 := {avg}(s64, s8, s7);
#	s63 := group.avg(s64,s8);
##s67 := s11.join(s35);
#	s67 := algebra.join(s11,s35);
##s66 := {avg}(s67, s8, s7);
#	s66 := group.avg(s67,s8);
##s70 := s11.join(s44);
#	s70 := algebra.join(s11,s44);
##s69 := {avg}(s70, s8, s7);
#	s69 := group.avg(s70,s8);
##s72 := {count}(s8, s8, s7);
##	s72 := group.count(s8,s8);
#io.print(s64,s67,s66,s70,s69);
#
!ERROR: function user.bind(s:str,t:str,c:str,i:int):bat[:any$1,:any$2];
!                                                           ^',' expected
!ERROR: end bind;
!       ^';' expected
function user.bind(s:str,t:str,c:str,i:int):any;	# 0  unknown (bind:any)<-(s:str)(t:str)(c:str)(i:int)
    myc := bbp.bind("myc");	# 1  unknown (myc:any)<-(_6:str)
    s14:bat[:void,:date]  := user.bind("sys","lineitem","l_shipdate",0);	# 2  unknown (s14:bat[:void,:date])<-(_8:str)(_9:str)(_10:str)(_11:int)
    s16 := mtime.date("1998-12-01");	# 3  unknown (s16:any)<-(_13:str)
    s17 := 7776000;	# 4  unknown (s17:any)<-(_15:int)
    zz := nil:str;	# 5  unknown (zz:any)<-(_17:str)
    aa_a := mtime.date(zz);	# 6  unknown (aa_a:any)<-(zz:any)
    s13 := algebra.uselect(s14,aa_a,aa_a);	# 7  unknown (s13:any)<-(s14:bat[:void,:date])(aa_a:any)(aa_a:any)
    s12 := bat.reverse(s13);	# 8  unknown (s12:any)<-(s13:any)
    ba_a := calc.oid(0);	# 9  unknown (ba_a:any)<-(_11:int)
    ca_a := bat.reverse(s12);	# 10  unknown (ca_a:any)<-(s12:any)
    da_a := algebra.markT(ca_a,ba_a);	# 11  unknown (da_a:any)<-(ca_a:any)(ba_a:any)
    s11 := bat.reverse(da_a);	# 12  unknown (s11:any)<-(da_a:any)
    s18:bat[:void,:chr]  := user.bind("sys","lineitem","l_returnflag",0);	# 13  unknown (s18:bat[:void,:chr])<-(_8:str)(_9:str)(_26:str)(_11:int)
    s10 := algebra.join(s11,s18);	# 14  unknown (s10:any)<-(s11:any)(s18:bat[:void,:chr])
    (h,s9):= group.group(s10);	# 15  unknown (h:any)(s9:any)<-(s10:any)
    s20:bat[:void,:chr]  := user.bind("sys","lineitem","l_linestatus",0);	# 16  unknown (s20:bat[:void,:chr])<-(_8:str)(_9:str)(_31:str)(_11:int)
    s19 := algebra.join(s11,s20);	# 17  unknown (s19:any)<-(s11:any)(s20:bat[:void,:chr])
    (h2,s8):= group.group(s9,s19);	# 18  unknown (h2:any)(s8:any)<-(s9:any)(s19:any)
    ea_a := algebra.tunique(s8);	# 19  unknown (ea_a:any)<-(s8:any)
    s7 := bat.mirror(ea_a);	# 20  unknown (s7:any)<-(ea_a:any)
    s6 := algebra.join(s7,s11);	# 21  unknown (s6:any)<-(s7:any)(s11:any)
    s5 := algebra.join(s6,s18);	# 22  unknown (s5:any)<-(s6:any)(s18:bat[:void,:chr])
    fa_a := bat.reverse(s5);	# 23  unknown (fa_a:any)<-(s5:any)
    ga_a := algebra.sortH(fa_a);	# 24  unknown (ga_a:any)<-(fa_a:any)
    s4 := bat.reverse(ga_a);	# 25  unknown (s4:any)<-(ga_a:any)
    s22 := algebra.join(s7,s11);	# 26  unknown (s22:any)<-(s7:any)(s11:any)
    s21 := algebra.join(s22,s20);	# 27  unknown (s21:any)<-(s22:any)(s20:bat[:void,:chr])
    s3 := group.refine(s4,s21);	# 28  unknown (s3:any)<-(s4:any)(s21:any)
    s25 := algebra.join(s11,s18);	# 29  unknown (s25:any)<-(s11:any)(s18:bat[:void,:chr])
    s24 := algebra.join(s7,s25);	# 30  unknown (s24:any)<-(s7:any)(s25:any)
    s27 := algebra.join(s11,s20);	# 31  unknown (s27:any)<-(s11:any)(s20:bat[:void,:chr])
    s26 := algebra.join(s7,s27);	# 32  unknown (s26:any)<-(s7:any)(s27:any)
    s31:bat[:void,:int]  := user.bind("sys","lineitem","l_quantity",0);	# 33  unknown (s31:bat[:void,:int])<-(_50:str)(_51:str)(_52:str)(_53:int)
    s30 := algebra.join(s11,s31);	# 34  unknown (s30:any)<-(s11:any)(s31:bat[:void,:int])
    s29 := group.sum(s30,s8);	# 35  unknown (s29:any)<-(s30:any)(s8:any)
    s35:bat[:void,:int]  := user.bind("sys","lineitem","l_extendedprice",0);	# 36  unknown (s35:bat[:void,:int])<-(_50:str)(_51:str)(_57:str)(_53:int)
    s34 := algebra.join(s11,s35);	# 37  unknown (s34:any)<-(s11:any)(s35:bat[:void,:int])
    s33 := group.sum(s34,s8);	# 38  unknown (s33:any)<-(s34:any)(s8:any)
    s39 := algebra.join(s11,s35);	# 39  unknown (s39:any)<-(s11:any)(s35:bat[:void,:int])
    s42 := 1;	# 40  unknown (s42:any)<-(_62:int)
    s41 := calc.flt(s42);	# 41  unknown (s41:any)<-(s42:any)
    s44:bat[:void,:int]  := user.bind("sys","lineitem","l_discount",0);	# 42  unknown (s44:bat[:void,:int])<-(_50:str)(_51:str)(_65:str)(_53:int)
    s43 := algebra.join(s11,s44);	# 43  unknown (s43:any)<-(s11:any)(s44:bat[:void,:int])
    ha_a := batcalc.init(s43,s41);	# 44  unknown (ha_a:any)<-(s43:any)(s41:any)
    s45 := ha_a;	# 45  unknown (s45:any)<-(ha_a:any)
    s40 := batcalc.-(s45,s43);	# 46  unknown (s40:any)<-(s45:any)(s43:any)
    s38 := batcalc.*(s39,s40);	# 47  unknown (s38:any)<-(s39:any)(s40:any)
    s37 := group.sum(s38,s8);	# 48  unknown (s37:any)<-(s38:any)(s8:any)
    s50 := algebra.join(s11,s35);	# 49  unknown (s50:any)<-(s11:any)(s35:bat[:void,:int])
    s53 := 1;	# 50  unknown (s53:any)<-(_62:int)
    s52 := calc.flt(s53);	# 51  unknown (s52:any)<-(s53:any)
    s54 := algebra.join(s11,s44);	# 52  unknown (s54:any)<-(s11:any)(s44:bat[:void,:int])
    ia_a := batcalc.init(s54,s52);	# 53  unknown (ia_a:any)<-(s54:any)(s52:any)
    s55 := ia_a;	# 54  unknown (s55:any)<-(ia_a:any)
    s51 := batcalc.-(s55,s54);	# 55  unknown (s51:any)<-(s55:any)(s54:any)
    s49 := batcalc.*(s50,s51);	# 56  unknown (s49:any)<-(s50:any)(s51:any)
    s58 := 1;	# 57  unknown (s58:any)<-(_62:int)
    s57 := calc.flt(s58);	# 58  unknown (s57:any)<-(s58:any)
    s60:bat[:void,:int]  := user.bind("sys","lineitem","l_tax",0);	# 59  unknown (s60:bat[:void,:int])<-(_83:str)(_84:str)(_85:str)(_86:int)
    s59 := algebra.join(s11,s60);	# 60  unknown (s59:any)<-(s11:any)(s60:bat[:void,:int])
    ja_a := batcalc.init(s59,s57);	# 61  unknown (ja_a:any)<-(s59:any)(s57:any)
    s61 := ja_a;	# 62  unknown (s61:any)<-(ja_a:any)
    s56 := batcalc.+(s61,s59);	# 63  unknown (s56:any)<-(s61:any)(s59:any)
    s48 := batcalc.*(s49,s56);	# 64  unknown (s48:any)<-(s49:any)(s56:any)
    s47 := group.sum(s48,s8);	# 65  unknown (s47:any)<-(s48:any)(s8:any)
    s64 := algebra.join(s11,s31);	# 66  unknown (s64:any)<-(s11:any)(s31:bat[:void,:int])
    s63 := group.avg(s64,s8);	# 67  unknown (s63:any)<-(s64:any)(s8:any)
    s67 := algebra.join(s11,s35);	# 68  unknown (s67:any)<-(s11:any)(s35:bat[:void,:int])
    s66 := group.avg(s67,s8);	# 69  unknown (s66:any)<-(s67:any)(s8:any)
    s70 := algebra.join(s11,s44);	# 70  unknown (s70:any)<-(s11:any)(s44:bat[:void,:int])
    s69 := group.avg(s70,s8);	# 71  unknown (s69:any)<-(s70:any)(s8:any)
    io.print(s64,s67,s66,s70,s69);	# 72  unknown (_99:any)<-(s64:any)(s67:any)(s66:any)(s70:any)(s69:any)
end bind;	# 73  unknown 

# 23:52:52 >  
# 23:52:52 >  Done.
# 23:52:52 >  

