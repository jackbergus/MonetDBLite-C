# dealing with BAT references in functions

function dir():void;
	d:= bbp.getRefCount();
	dl:=bbp.getLRefCount();
	dn:= bbp.getNames();
	io.print(dn,d,dl);
end dir;


function tmp1(b:bat[:any_1,:any_2]):bat[:any_1,:any_2];
	tmp1:= algebra.copy(b);
	io.print("inside tmp1");
	user.dir();
	return tmp1;
end tmp1;

b:= bat.new(:int,:int);
dir();
d:= user.tmp1(b);
dir();
d:= user.tmp1(d);
dir();
