stdout of test 'tst830` in directory 'src/mal` itself:


# 20:34:17 >  
# 20:34:17 >  Mtimeout -timeout 60 mserver "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5/Linux/lib/MonetDB5:/ufs/mk/opensource/MonetDB/Linux/lib/MonetDB" --set "gdk_dbfarm=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/log" --set mapi_port=36259 --set sql_port=40419 --set xquery_port=52492 --set monet_prompt= --trace "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --dbname=mTests_src_mal  tst830.mal < /dev/null
# 20:34:17 >  

# Monet Database Server V4.99.19
# Copyright (c) 1993-2005, CWI. All rights reserved.
# Compiled for x86_64-redhat-linux-gnu/64bit with 32bit OIDs; dynamically linked.
# config:/ufs/mk/monet5/src/mal/Tests/All.conf
# dbfarm:/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information.
## a simple functional test for the access control table
#
#u:= clients.getPermissions();
#io.print(u);
#
#clients.addUser("monetdb","Pmonetdb","sql");
#clients.addUser("monetdb","Pmonetdb","mal");
#clients.addUser("checkpoint","Pcheckpoint","mal");
#clients.addUser("legacy","Plegacy","mil");
#
#u:= clients.getPermissions();
#p:= clients.getPasswords();
#io.print(u,p);
#
#clients.delUser("checkpoint");
#clients.delUser("monetdb","mal");
#u:= clients.getPermissions();
#io.print(u);
#
#t:= clients.checkPermission("monetdb","Pmonetdb","sql");
#io.print(t);
#
#t:= clients.checkPermission("monetdb","x","sql");
#io.print(t);
#
#t:= clients.checkPermission("monetdb","Pmonetdb","x");
#io.print(t);
#
#t:= clients.checkPermission("x","Pmonetdb","sql");
#io.print(t);
#
#
function user.main():void;	# 0  (main:void)
# a simple functional test for the access control table 	# 1  (_1:str)
    u := clients.getPermissions();	# 2 CLTgetPermissions (u:bat[:str,:str])
    io.print(u);	# 3 IOprint_val (_3:int)<-(u:bat[:str,:str])
    clients.addUser("monetdb","Pmonetdb","sql");	# 4 CLTaddUser (_4:void)<-(_5:str)(_6:str)(_7:str)
    clients.addUser("monetdb","Pmonetdb","mal");	# 5 CLTaddUser (_8:void)<-(_5:str)(_6:str)(_9:str)
    clients.addUser("checkpoint","Pcheckpoint","mal");	# 6 CLTaddUser (_10:void)<-(_11:str)(_12:str)(_9:str)
    clients.addUser("legacy","Plegacy","mil");	# 7 CLTaddUser (_13:void)<-(_14:str)(_15:str)(_16:str)
    u := clients.getPermissions();	# 8 CLTgetPermissions (u:bat[:str,:str])
    p := clients.getPasswords();	# 9 CLTgetPasswords (p:bat[:str,:str])
    io.print(u,p);	# 10 IOtable (_18:int)<-(u:bat[:str,:str])(p:bat[:str,:str])
    clients.delUser("checkpoint");	# 11 CLTdelUserAll (_19:void)<-(_11:str)
    clients.delUser("monetdb","mal");	# 12 CLTdelUser (_20:void)<-(_5:str)(_9:str)
    u := clients.getPermissions();	# 13 CLTgetPermissions (u:bat[:str,:str])
    io.print(u);	# 14 IOprint_val (_21:int)<-(u:bat[:str,:str])
    t := clients.checkPermission("monetdb","Pmonetdb","sql");	# 15 CLTcheckAuthorization (t:bit)<-(_5:str)(_6:str)(_7:str)
    io.print(t);	# 16 IOprint_val (_23:int)<-(t:bit)
    t := clients.checkPermission("monetdb","x","sql");	# 17 CLTcheckAuthorization (t:bit)<-(_5:str)(_24:str)(_7:str)
    io.print(t);	# 18 IOprint_val (_25:int)<-(t:bit)
    t := clients.checkPermission("monetdb","Pmonetdb","x");	# 19 CLTcheckAuthorization (t:bit)<-(_5:str)(_6:str)(_24:str)
    io.print(t);	# 20 IOprint_val (_26:int)<-(t:bit)
    t := clients.checkPermission("x","Pmonetdb","sql");	# 21 CLTcheckAuthorization (t:bit)<-(_24:str)(_6:str)(_7:str)
    io.print(t);	# 22 IOprint_val (_27:int)<-(t:bit)
    clients.newPassword("legacy","Plegacy","modern");	# 23 CLTnewPasswordRoot (_28:void)<-(_14:str)(_15:str)(_29:str)
    u := clients.getPermissions();	# 24 CLTgetPermissions (u:bat[:str,:str])
    p := clients.getPasswords();	# 25 CLTgetPasswords (p:bat[:str,:str])
    io.print(u,p);	# 26 IOtable (_30:int)<-(u:bat[:str,:str])(p:bat[:str,:str])
end main;	# 27  
#-----------------#
# h	t	  # name
# str	str	  # type
#-----------------#
#-----------------------------------------#
# h		t	t		  # name
# str		str	str		  # type
#-----------------------------------------#
[ "monetdb",	  "sql",  "Pmonetdb"	  ]
[ "monetdb",	  "sql",  "Pmonetdb"	  ]
[ "monetdb",	  "mal",  "Pmonetdb"	  ]
[ "monetdb",	  "mal",  "Pmonetdb"	  ]
[ "checkpoint",	  "mal",  "Pcheckpoint"	  ]
[ "legacy",	  "mil",  "Plegacy"	  ]
#-------------------------#
# h		t	  # name
# str		str	  # type
#-------------------------#
[ "monetdb",	  "sql"	  ]
[ "legacy",	  "mil"	  ]
[ true ]
[ false ]
[ false ]
[ false ]
new password legacy Plegacy modern
#-----------------------------------------#
# h		t	t		  # name
# str		str	str		  # type
#-----------------------------------------#
[ "monetdb",	  "sql",  "Pmonetdb"	  ]
[ "monetdb",	  "sql",  "Pmonetdb"	  ]
[ "legacy",	  "mil",  "modern"	  ]
[ "legacy",	  "mil",  "Plegacy"	  ]

# 20:34:17 >  
# 20:34:17 >  Done.
# 20:34:17 >  

