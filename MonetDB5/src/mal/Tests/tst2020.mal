# simple parallel with control flow

thread b1:=0;
	io.printf("#start thread\n");
barrier yy;
	io.print("leave barrier");
	leave yy;
	redo yy;	
exit	yy;
	io.printf("#finish thread\n");
	io.printf("#finish thread2\n");
exit b1;
	alarm.sleep(5);
	io.printf("#end of program, wait for child\n");
