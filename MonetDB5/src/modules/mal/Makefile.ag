
INCLUDES = -I../atoms -I../kernel \
        -I../../mal $(MONETDB_INCS) $(CLIENTS_INCS) \
        $(Z_CFLAGS) $(BZ_CFLAGS) $(PCRE_CFLAGS) $(READLINE_INCS)

MTSAFE

LIBS = {
	DIR = pkglibdir
	SEP = _
	SOURCES = \
		chopper.mx constraints.mx language.mx box.mx \
		profiler.mx const.mx algebraExtensions.mx \
		inspect.mx manual.mx \
		factory.mx mdb.mx  pbm.mx \
		urlbox.mx mat.mx \
		sabaoth.mx radix.mx bpm.mx
		#datacell.mx 

	HEADERS = h 
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream $(CLIENTS_LIBS) -lMapi \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib_batExtensions = {
	DIR = pkglibdir
	SEP = _
	SOURCES = batExtensions.mx
	HEADERS = h
	LIBS = ../../mal/libmal ../kernel/lib_bat5 $(MONETDB_LIBS) -lbat -lstream $(CLIENTS_LIBS) -lMapi \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib_mserver = {
	DIR = pkglibdir
	SEP = _
	SOURCES = mserver.mx
	HEADERS = h
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream $(CLIENTS_LIBS) -lMapi \
                $(OPENSSL_LIBS) $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib_crackers = {
	DIR = pkglibdir
	SEP = _
	SOURCES = crackers.mx 
	HEADERS = h 
	LIBS = ../../mal/libmal ../kernel/lib_bat5 $(MONETDB_LIBS) -lbat -lstream ../atoms/lib_mtime \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib_mal_io = {
	DIR = pkglibdir
	SEP = _
	SOURCES = mal_io.mx 
	HEADERS = h 
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__clients = {
	DIR = pkglibdir
	SOURCES = clients.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS) $(READLINE_LIBS) 
}

lib__pcre = {
	DIR = pkglibdir
	SOURCES = pcre.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS) $(PCRE_LIBS) 
}

lib__bbp = {
	DIR = pkglibdir
	SOURCES = bbp.mx

	HEADERS = h
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat5 \
		$(MONETDB_LIBS) -lbat -lstream \
		$(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
		$(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__tablet = {
	DIR = pkglibdir
	SOURCES = tablet.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_algebra \
		$(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__transaction = {
	DIR = pkglibdir
	SOURCES = transaction.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat5 $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__partitions = {
	DIR = pkglibdir
	SOURCES = partitions.mx 

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat5 $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__statistics = {
	DIR = pkglibdir
	SOURCES = statistics.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_algebra \
		$(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

scripts_mal = {
	DIR = pkglibdir
	SOURCES = language.mx constraints.mx mal_init.mx box.mx bbp.mx \
		profiler.mx const.mx batExtensions.mx algebraExtensions.mx \
		inspect.mx manual.mx crackers.mx mal_io.mx \
		chopper.mx clients.mx \
		factory.mx mdb.mx pcre.mx  tablet.mx mat.mx \
		urlbox.mx statistics.mx transaction.mx \
		partitions.mx pbm.mx mserver.mx sabaoth.mx \
		radix.mx bpm.mx
	#datacell.mx 
}

#EXTRA_DIST_DIR = Tests
