# Testing the cracker implementation
b:= bat.new(:int,:int);
bat.insert(b,10,100);
bat.insert(b,1,2);
bat.insert(b,6,36);
bat.insert(b,5,25);
bat.insert(b,2,4);
bat.insert(b,3,9);
bat.insert(b,7,49);
bat.insert(b,8,64);
bat.insert(b,4,16);
bat.insert(b,9,81);

crackers.new(b);
crackers.crack(b,9,25);
#y:= crackers.crack(b,80,195);
#y:= crackers.crack(b,2,2);
#y:= crackers.crack(b,20,99);
io.print(b);
crackers.info(b);

# testing creation of the portions
io.print("Get the first piece");
(i,view):= crackers.newIterator(b);
io.print(view);
io.print(i);
(i,view) := crackers.hasMoreElements(b);
io.print(view);
io.print(i);
(i,view) := crackers.hasMoreElements(b);
io.print(view);
io.print(i);
#next one doesn;t exist anymore
#i:= crackers.nextPiece(b,cidx,view,i);
#print(view);
crackers.drop(b);
