# let connect figure out itself how to connect to the running db
db := const.take("dbname");

# create a persistent connecton to ourself
conn1:str := remote.connect(db, "monetdb", "monetdb");
# do it again ...
conn2:str := remote.connect(db, "monetdb", "monetdb");
# ... and check they are the same
barrier if := conn1 == conn2;
	io.printf("!oops: %s == %s\n", conn1, conn2);
exit if;

# help testweb a bit, since currently no cleanup is done on server
# shutdown
remote.disconnect(conn1);
remote.disconnect(conn2);
