namebat := bat.new(:void, :str);
bat.setSequenceBase(namebat,0@0);
bat.append(namebat,"tmpdocs");
bat.append(namebat,"tmpterms");

sepbat := bat.new(:void, :str);
bat.setSequenceBase(sepbat,0@0);
bat.append(sepbat,",");
bat.append(sepbat,"\n");

typebat := bat.new(:void, :str);
bat.setSequenceBase(typebat,0@0);
bat.append(typebat,"str");
bat.append(typebat,"str");

len := 20;
targetdir := unix.getenv("TSTTRGDIR");
barrier correct:= targetdir == "";
	targetdir := unix.getenv("PWD");
	targetdir := targetdir + "/";
exit correct;

datafile := targetdir + "ascii_io2.load";
io.printf("#source:%s\n",datafile);

idxbat := tablet.load(namebat, sepbat, typebat, datafile, len);
io.print(idxbat);

i1 := algebra.fetch(idxbat,0);
b1 := bbp.find(i1);
io.print(b1);

i2 := algebra.fetch(idxbat,1); 
b2 := bbp.find(i2);
io.print(b2);
