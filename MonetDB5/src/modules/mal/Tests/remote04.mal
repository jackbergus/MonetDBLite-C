# for testweb, we need to ask the server itself how it is available, use
# sabaoth for that
include sabaoth;

h := sabaoth.getLocalConnectionHost();
p := sabaoth.getLocalConnectionPort();

# create a connecton to ourself
remote.create("test", h, p, nil:str, "monetdb", "monetdb");

b := bat.new(:str, :int);
bat.insert(b, "bla", 1);
bat.insert(b, "boe", 2);
bat.insert(b, "foo", 3);
bat.insert(b, "bar", 4);
bat.insert(b, "baz", 5);

j := remote.put("test", b);

# perform a selection remote, and get the result back
t := remote.exec("test", "algebra", "select", j, 3, 10);
io.print(t);

# help testweb a bit, since currently no cleanup is done on server
# shutdown
remote.destroy("test");
