stdout of test 'remote02` in directory 'src/modules/mal` itself:


# 13:17:33 >  
# 13:17:33 >   mserver5 "--config=/ufs/fabian/scratch/monetdb/current/program-x86_64/etc/monetdb5.conf" --debug=10 --set gdk_nr_threads=0 --set "monet_mod_path=/ufs/fabian/scratch/monetdb/current/program-x86_64/lib/MonetDB5:/ufs/fabian/scratch/monetdb/current/program-x86_64/lib/MonetDB5/lib:/ufs/fabian/scratch/monetdb/current/program-x86_64/lib/MonetDB5/bin" --set "gdk_dbfarm=/net/pegasus.ins.cwi.nl/export/scratch0/fabian/vtmp/mtest-current-pegasus.ins.cwi.nl/five/dbfarm" --set "sql_logdir=/net/pegasus.ins.cwi.nl/export/scratch0/fabian/vtmp/mtest-current-pegasus.ins.cwi.nl/five/sqllog" --set "xquery_logdir=/net/pegasus.ins.cwi.nl/export/scratch0/fabian/vtmp/mtest-current-pegasus.ins.cwi.nl/five/xquerylog" --set mapi_open=true --set xrpc_open=true --set mapi_port=39413 --set xrpc_port=44388 --set monet_prompt= --trace  --dbname=mTests_src_modules_mal  remote02.mal
# 13:17:33 >  



# MonetDB server v5.7.0, based on kernel v1.25.0
# Serving database 'mTests_src_modules_mal', using 2 threads
# Compiled for x86_64-pc-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_modules_mal
# Visit http://monetdb.cwi.nl/ for further information
# Listening for connection requests on mapi:monetdb://pegasus.ins.cwi.nl:39413/
## for testweb, we need to ask the server itself how it is available, use
## sabaoth for that
#include sabaoth;
#
#h := sabaoth.getLocalConnectionHost();
#p := sabaoth.getLocalConnectionPort();
#
## create a connecton to ourself
#remote.create("test", h, p, nil:str, "monetdb", "monetdb");
#
#a := "Fabian!";
#b := 4.3;
#c := 12;
#d := bat.new(:str, :int);
#bat.insert(d, "bla", 1);
#bat.insert(d, nil:str, 2);
#bat.insert(d, "boe", nil:int);
#
## store the values
#i := remote.put("test", a);
#j := remote.put("test", b);
#k := remote.put("test", c);
#l := remote.put("test", d);
#
## retrieve the value
#r := remote.get("test", i);
#s := remote.get("test", j);
#t := remote.get("test", k);
#u := remote.get("test", l);
#
## see if it really is here
#io.print(r);
#io.print(s);
#io.print(t);
#io.print(u);
#
## help testweb a bit, since currently no cleanup is done on server
## shutdown
#remote.destroy("test");
#
function user.main():void;              #  0 main:void := user.main() {G}
# for testweb, we need to ask the server itself how it is available, use 
# sabaoth for that 
#sabaoth.prelude(); 
    h := sabaoth.getLocalConnectionHost();#  4 h:str := SABgetLocalConnectionHost() {G}
    p := sabaoth.getLocalConnectionPort();#  5 p:int := SABgetLocalConnectionPort() 
# create a connecton to ourself 
    remote.create("test",h,p,nil:str,"monetdb","monetdb");#  7 _7:void := RMTcreate(_8:str, h:str, p:int, _9:str, _10:str, _10:str) 
    a := "Fabian!";                     #  8 a:str := _12:str {G}
    b := 4.30000019;                    #  9 b:flt := _14:flt 
    c := 12;                            # 10 c:int := _16:int 
    d := bat.new(:str,:int);            # 11 d:bat[:str,:int] := CMDBATnew(_18:str, _19:int) {G}
    bat.insert(d,"bla",1);              # 12 _20:bat[:str,:int] := BKCinsert_bun(d:bat[:str,:int], _21:str, _22:int) {G}
    bat.insert(d,nil:str,2);            # 13 _23:bat[:str,:int] := BKCinsert_bun(d:bat[:str,:int], _9:str, _24:int) {G}
    bat.insert(d,"boe",nil:int);        # 14 _25:bat[:str,:int] := BKCinsert_bun(d:bat[:str,:int], _26:str, _27:int) {G}
# store the values 
    i := remote.put("test",a);          # 16 i:rmtobj := RMTput(_8:str, a:str) {G}
    j := remote.put("test",b);          # 17 j:rmtobj := RMTput(_8:str, b:flt) {G}
    k := remote.put("test",c);          # 18 k:rmtobj := RMTput(_8:str, c:int) {G}
    l := remote.put("test",d);          # 19 l:rmtobj := RMTput(_8:str, d:bat[:str,:int]) {G}
# retrieve the value 
    r := remote.get("test",i);          # 21 r:any := RMTget(_8:str, i:rmtobj) 
    s := remote.get("test",j);          # 22 s:any := RMTget(_8:str, j:rmtobj) 
    t := remote.get("test",k);          # 23 t:any := RMTget(_8:str, k:rmtobj) 
    u := remote.get("test",l);          # 24 u:any := RMTget(_8:str, l:rmtobj) 
# see if it really is here 
    io.print(r);                        # 26 _39:void := IOprint_val(r:any) 
    io.print(s);                        # 27 _40:void := IOprint_val(s:any) 
    io.print(t);                        # 28 _41:void := IOprint_val(t:any) 
    io.print(u);                        # 29 _42:void := IOprint_val(u:any) 
# help testweb a bit, since currently no cleanup is done on server 
# shutdown 
    remote.destroy("test");             # 32 _45:void := RMTdestroy(_46:str) 
end main;                               # 33  
[ "Fabian!" ]
[ 4.30000019 ]
[ 12 ]
#-----------------#
# h	t	  # name
# str	int	  # type
#-----------------#
[ "bla",  1	  ]
[ nil,	  2	  ]
[ "boe",  nil	  ]

# 13:17:33 >  
# 13:17:33 >  Done.
# 13:17:33 >  

