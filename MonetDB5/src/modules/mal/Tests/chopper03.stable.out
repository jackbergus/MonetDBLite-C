stdout of test 'chopper03` in directory 'src/modules/mal` itself:


# 00:03:53 >  
# 00:03:53 >  Mtimeout -timeout 60 Mserver "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5/Linux/lib/MonetDB5:/ufs/mk/opensource/MonetDB/Linux/lib/MonetDB" --set "gdk_dbfarm=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/log" --set mapi_port=33330 --set sql_port=49911 --set xquery_port=56575 --set monet_prompt= --trace --dbname=mTests_src_modules_mal  chopper03.mal </dev/null
# 00:03:53 >  

# Monet Database Server V4.99.19
# Copyright (c) 1993-2005, CWI. All rights reserved.
# Compiled for x86_64-redhat-linux-gnu/64bit with 32bit OIDs; dynamically linked.
# config:/ufs/mk/monet5/src/mal/Tests/All.conf
# dbfarm:/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm
# dbname:mTests_src_modules_mal
# Visit http://monetdb.cwi.nl/ for further information.
#	t:= bbp.new(:int, :url);
#	cb_a := url.url("http://www.cwi.nl");
#	db_a := bat.insert(t,1,cb_a);
#	eb_a := url.url("http://www.cwi.nl/~monet");
#	fb_a := bat.insert(t,2,eb_a);
#	gb_a := url.url("http://www.cwi.nl/~mk/Acoi/doc/features.html");
#	hb_a := bat.insert(t,3,gb_a);
#	ib_a := url.url("http://www.educ.uva.nl/schoolweb/rocloka.htm");
#	jb_a := bat.insert(t,4,ib_a);
#	kb_a := url.url("http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium");
#	lb_a := bat.insert(t,5,kb_a);
#	mb_a := url.url("http://www.edgeonline.com/");
#	nb_a := bat.insert(t,6,mb_a);
#	ob_a := url.url("http://robotics.stanford.edu/icons/ ");
#	pb_a := bat.insert(t,7,ob_a);
#	qb_a := io.print("build a table finished");
#	io.print(t);
#
#	rb:= bbp.new(:int,:url);
#	io.print("start loop");
#	c := 3:lng;
#barrier (mloop,chunk) := chopper.newChunkIterator(t,c);
#	io.print("next chunk");
#	io.print(chunk);
#	redo (mloop,chunk) := chopper.hasMoreChunks(t,3:lng);
#exit mloop;
#
#
function user.main():int;	# 0  (main:int)
    t := bbp.new(:int,:url);	# 1 CMDBATnew (t:bat[:int,:url])<-(_2:int)(_3:url)
    cb_a := url.url("http://www.cwi.nl");	# 2 URLnew (cb_a:url)<-(_5:str)
    db_a := bat.insert(t,1,cb_a);	# 3 BKCinsert_bun (db_a:bat[:int,:url])<-(t:bat[:int,:url])(_7:int)(cb_a:url)
    eb_a := url.url("http://www.cwi.nl/~monet");	# 4 URLnew (eb_a:url)<-(_9:str)
    fb_a := bat.insert(t,2,eb_a);	# 5 BKCinsert_bun (fb_a:bat[:int,:url])<-(t:bat[:int,:url])(_11:int)(eb_a:url)
    gb_a := url.url("http://www.cwi.nl/~mk/Acoi/doc/features.html");	# 6 URLnew (gb_a:url)<-(_13:str)
    hb_a := bat.insert(t,3,gb_a);	# 7 BKCinsert_bun (hb_a:bat[:int,:url])<-(t:bat[:int,:url])(_15:int)(gb_a:url)
    ib_a := url.url("http://www.educ.uva.nl/schoolweb/rocloka.htm");	# 8 URLnew (ib_a:url)<-(_17:str)
    jb_a := bat.insert(t,4,ib_a);	# 9 BKCinsert_bun (jb_a:bat[:int,:url])<-(t:bat[:int,:url])(_19:int)(ib_a:url)
    kb_a := url.url("http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium");	# 10 URLnew (kb_a:url)<-(_21:str)
    lb_a := bat.insert(t,5,kb_a);	# 11 BKCinsert_bun (lb_a:bat[:int,:url])<-(t:bat[:int,:url])(_23:int)(kb_a:url)
    mb_a := url.url("http://www.edgeonline.com/");	# 12 URLnew (mb_a:url)<-(_25:str)
    nb_a := bat.insert(t,6,mb_a);	# 13 BKCinsert_bun (nb_a:bat[:int,:url])<-(t:bat[:int,:url])(_27:int)(mb_a:url)
    ob_a := url.url("http://robotics.stanford.edu/icons/ ");	# 14 URLnew (ob_a:url)<-(_29:str)
    pb_a := bat.insert(t,7,ob_a);	# 15 BKCinsert_bun (pb_a:bat[:int,:url])<-(t:bat[:int,:url])(_31:int)(ob_a:url)
    qb_a := io.print("build a table finished");	# 16 IOprint_val (qb_a:int)<-(_33:str)
    io.print(t);	# 17 IOprint_val (_34:int)<-(t:bat[:int,:url])
    rb := bbp.new(:int,:url);	# 18 CMDBATnew (rb:bat[:int,:url])<-(_36:int)(_3:url)
    io.print("start loop");	# 19 IOprint_val (_37:int)<-(_38:str)
    c := 3:lng;	# 20  (c:lng)<-(_40:lng)
barrier (mloop,chunk):= chopper.newChunkIterator(t,c);	# 21 CHPnewChunkIterator (mloop:lng)(chunk:bat[:int,:url])<-(t:bat[:int,:url])(c:lng) jump 25
    io.print("next chunk");	# 22 IOprint_val (_43:int)<-(_44:str)
    io.print(chunk);	# 23 IOprint_val (_45:int)<-(chunk:bat[:int,:url])
    redo (mloop,chunk):= chopper.hasMoreChunks(t,3:lng);	# 24 CHPhasMoreChunks (mloop:lng)(chunk:bat[:int,:url])<-(t:bat[:int,:url])(_40:lng) jump 22
exit mloop;	# 25  (mloop:lng)
end main;	# 26  
[ "build a table finished" ]
#-------------------------------------------------------------------------#
# h	t								  # name
# int	url								  # type
#-------------------------------------------------------------------------#
[ 1,	  "http://www.cwi.nl"						  ]
[ 2,	  "http://www.cwi.nl/~monet"					  ]
[ 3,	  "http://www.cwi.nl/~mk/Acoi/doc/features.html"		  ]
[ 4,	  "http://www.educ.uva.nl/schoolweb/rocloka.htm"		  ]
[ 5,	  "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"	  ]
[ 6,	  "http://www.edgeonline.com/"					  ]
[ 7,	  "http://robotics.stanford.edu/icons/ "			  ]
[ "start loop" ]
[ "next chunk" ]
#---------------------------------------------------------#
# h	t						  # name
# int	url						  # type
#---------------------------------------------------------#
[ 1,	  "http://www.cwi.nl"				  ]
[ 2,	  "http://www.cwi.nl/~monet"			  ]
[ 3,	  "http://www.cwi.nl/~mk/Acoi/doc/features.html"  ]
[ "next chunk" ]
#-------------------------------------------------------------------------#
# h	t								  # name
# int	url								  # type
#-------------------------------------------------------------------------#
[ 4,	  "http://www.educ.uva.nl/schoolweb/rocloka.htm"		  ]
[ 5,	  "http://www.nedstat.nl/cgi-bin/viewstat?name=Planetarium"	  ]
[ 6,	  "http://www.edgeonline.com/"					  ]
[ "next chunk" ]
#-------------------------------------------------#
# h	t					  # name
# int	url					  # type
#-------------------------------------------------#
[ 7,	  "http://robotics.stanford.edu/icons/ "  ]

# 00:03:53 >  
# 00:03:53 >  Done.
# 00:03:53 >  

