include remote;
# for testweb, we need to ask the server itself how it is available, use
# sabaoth for that
include sabaoth;

h := sabaoth.getLocalConnectionHost();
p := sabaoth.getLocalConnectionPort();

# create a connecton to ourself
remote.create("test", h, p, nil:str, "monetdb", "monetdb");

# io.print only outputs things, but returns nothing
a := remote.exec("test", "io.print", "bla");
io.print(a);

# now do it with a function that returns something (a BAT in this case)
b := remote.exec("test", "inspect.getAtomNames");
io.print(b);

# help testweb a bit, since currently no cleanup is done on server
# shutdown
remote.destroy("test");
